/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _xmlAst = __webpack_require__(1);\n\nvar _xmlAst2 = _interopRequireDefault(_xmlAst);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.onload = function () {\n  var ast = new _xmlAst2.default();\n  var a = ast.ast('<aa/><img>');\n  console.log(a);\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvaW5kZXguanM/YmM2NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7QUFFQSxPQUFPLE1BQVAsR0FBZ0IsWUFBWTtBQUMxQixNQUFJLE1BQU0sc0JBQVY7QUFDQSxNQUFJLElBQUksSUFBSSxHQUFKLENBQVEsWUFBUixDQUFSO0FBQ0EsVUFBUSxHQUFSLENBQVksQ0FBWjtBQUNELENBSkQiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBYbWxBc3QgZnJvbSAnLi9tb2R1bGVzL3htbEFzdCc7XG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBhc3QgPSBuZXcgWG1sQXN0KCk7XG4gIGxldCBhID0gYXN0LmFzdCgnPGFhLz48aW1nPicpO1xuICBjb25zb2xlLmxvZyhhKVxufTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2pzL2luZGV4LmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _error = __webpack_require__(2);\n\nvar _error2 = _interopRequireDefault(_error);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar xmlParseMinErr = (0, _error2.default)('XmlAst');\n\nvar NODE_TYPE_ELEMENT = 1;\nvar NODE_TYPE_TEXT = 3;\nvar NODE_TYPE_COMMENT = 8;\nvar NODE_TYPE_DOCUMENT = 9;\nvar NODE_TYPE_DOCUMENTFRAGMENT = 11;\n\nvar ODD_TAG_LIST = ['img', 'input', 'br', 'hr', 'param', 'meta', 'link'];\n\nvar XmlAst = function () {\n  function XmlAst() {\n    _classCallCheck(this, XmlAst);\n  }\n\n  _createClass(XmlAst, [{\n    key: 'ast',\n    value: function ast(text) {\n      this.text = text;\n      this.length = text.length;\n      this.index = 0;\n      this.rowIndex = 0;\n      this.rowCharIndex = 0;\n      this.nodeTree = [];\n      return this.fragment();\n    }\n  }, {\n    key: 'fragment',\n    value: function fragment() {\n      var EMPTY_REG_STRING = '[\\\\n\\\\t\\\\r\\\\v\\\\s]';\n      var ALL_RGE_STRING = '.|' + EMPTY_REG_STRING;\n      var TAG_OR_PROPERTY_REG_STRING = '[^\\\\\\\\/<>\\\\n\\\\t\\\\r\\\\v\\\\s]+';\n      var TAG_ATTRIBUTE_VALUE_REG_STRING = '=\"[^\"]*\"|=\\'[^\\']*\\'|=[^\\\\s><]+';\n      var TAG_ATTRIBUTE_REG_STRING = EMPTY_REG_STRING + '+' + TAG_OR_PROPERTY_REG_STRING + '(?:' + TAG_ATTRIBUTE_VALUE_REG_STRING + ')?';\n      var TAG_CLOSE_REG_STRING = '</' + TAG_OR_PROPERTY_REG_STRING + EMPTY_REG_STRING + '*>';\n\n      var TEST_TAG_REG = new RegExp('^<' + TAG_OR_PROPERTY_REG_STRING + EMPTY_REG_STRING + '*/?>|^<' + TAG_OR_PROPERTY_REG_STRING + '(?:' + TAG_ATTRIBUTE_REG_STRING + ')+' + EMPTY_REG_STRING + '*/?>|^</' + TAG_OR_PROPERTY_REG_STRING + EMPTY_REG_STRING + '*>');\n\n      var fragment = {\n        nodeType: NODE_TYPE_DOCUMENTFRAGMENT,\n        childNodes: []\n      };\n      this.ignoreEmpty();\n\n      var parent = fragment;\n      while (this.index < this.length) {\n        var ch = this.text.charAt(this.index);\n        if (ch == '<') {\n          if (this.expect('<!--')) {\n            var comment = this.readComment();\n            comment.parentNode = parent;\n            parent.childNodes.push(comment);\n          } else if (TEST_TAG_REG.test(this.later())) {\n            var tag = this.readTag();\n\n            if (tag.closeTag && !tag.beginTag) {\n              var beginTag = this.nodeTree.pop();\n              if (!beginTag) {\n                throw xmlParseMinErr('lexer', '文档第{0}行第{1}位`<{2}>`标签错误，未开始的标签不闭合！', this.rowIndex, tag.startIndex - this.rowCharIndex, tag.tagName);\n              }\n              if (beginTag != tag.tagName) {\n                throw xmlParseMinErr('lexer', '文档第{0}行第{1}位标签`<{2}>`未匹配正确的开始标签！', this.rowIndex, tag.startIndex - this.rowCharIndex, tag.tagName);\n              } else {\n                parent = parent.parentNode;\n              }\n            } else {\n\n              if (tag.beginTag && tag.closeTag) {\n                tag.parentNode = parent;\n                parent.childNodes.push(tag);\n              } else {\n                this.nodeTree.push(tag.tagName);\n                tag.parentNode = parent;\n                parent.childNodes.push(tag);\n                if (tag.beginTag) {\n                  tag.childNodes = [];\n                  parent = tag;\n                  if (/^(script|style)$/i.test(tag.tagName)) {\n                    var ele = this.readScriptOrStyle(tag.tagName);\n                    if (ele) {\n                      tag.childNodes.push(ele);\n                    }\n                  }\n                }\n              }\n            }\n          } else {\n            parent.childNodes.push(this.readText());\n          }\n        } else {\n          parent.childNodes.push(this.readText());\n        }\n      }\n      if (this.nodeTree.length) {\n        throw xmlParseMinErr('fragment', '文档结尾`<{0}>`标签未闭合！', this.nodeTree.join('`>,<`'));\n      }\n      return fragment;\n    }\n  }, {\n    key: 'readScriptOrStyle',\n    value: function readScriptOrStyle(tagName) {\n      var startIndex = this.index;\n      var startRowIndex = this.rowIndex;\n      var later = this.later();\n      var endIndex = later.search(new RegExp('</' + tagName + '(.|[\\\\n\\\\t\\\\r\\\\v\\\\s])*>'));\n      if (endIndex == -1) {\n        throw xmlParseMinErr('readScriptOrStyle', '第{0}行第{1}位的{2}标签未关闭！', this.rowIndex, this.index - this.rowCharIndex, tagName.toLowerCase());\n      }\n      var text = later.substring(0, endIndex);\n      var rowSize = text.match(/\\r\\n|\\r|\\n/g);\n      if (rowSize) {\n        this.rowIndex += rowSize.length;\n      }\n      this.index += endIndex;\n      return {\n        startIndex: startIndex,\n        endIndex: this.index,\n        startRowIndex: startRowIndex,\n        endRowIndex: this.rowIndex,\n        nodeType: NODE_TYPE_TEXT,\n        text: text\n      };\n    }\n  }, {\n    key: 'readComment',\n    value: function readComment() {\n      var startIndex = this.index;\n      var startRowIndex = this.rowIndex;\n      this.index += 4;\n      var later = this.later();\n      var endIndex = later.indexOf('-->');\n      if (endIndex == -1) {\n        endIndex = later.length;\n      }\n      var text = later.substring(0, endIndex);\n      var rowSize = text.match(/\\r\\n|\\r|\\n/g);\n      if (rowSize) {\n        this.rowIndex += rowSize.length;\n      }\n      this.index = this.index + endIndex;\n      if (this.peek()) {\n        this.index += 3;\n      }\n      return {\n        startIndex: startIndex,\n        endIndex: this.index,\n        startRowIndex: startRowIndex,\n        endRowIndex: this.rowIndex,\n        nodeType: NODE_TYPE_COMMENT,\n        text: text\n      };\n    }\n  }, {\n    key: 'readText',\n    value: function readText() {\n      var startRowIndex = this.rowIndex;\n      var startIndex = this.index;\n      var text = '';\n      while (this.index < this.length) {\n        var ch = this.text.charAt(this.index);\n        if (this.isEmpty(ch)) {\n          text += this.ignoreEmpty();\n        } else if (ch != '<') {\n          text += ch;\n          this.index++;\n        } else {\n          break;\n        }\n      }\n      return {\n        startRowIndex: startRowIndex,\n        endRowIndex: this.rowIndex,\n        startIndex: startIndex,\n        endIndex: this.index,\n        nodeType: NODE_TYPE_TEXT,\n        text: text\n      };\n    }\n  }, {\n    key: 'readTag',\n    value: function readTag() {\n      var startRowIndex = this.rowIndex;\n      var startIndex = this.index;\n      var TEST_ODD_TAG_REG = new RegExp('^' + ODD_TAG_LIST.join('|') + '$');\n\n      var tagName = '';\n      var propertis = void 0;\n      var ch = void 0;\n      this.index++;\n      while (this.index < this.length) {\n        ch = this.text.charAt(this.index);\n\n        if (!this.isEmpty(ch)) {\n          if (ch == '>' || ch == '/' && this.peek() == '>') {\n            break;\n          }\n          tagName += ch;\n          this.index++;\n        } else {\n          propertis = this.readProperty();\n        }\n      }\n      var tag = {\n        startRowIndex: startRowIndex,\n        endRowIndex: this.rowIndex,\n        startIndex: startIndex,\n        endIndex: this.index,\n        nodeType: NODE_TYPE_ELEMENT,\n        tagName: tagName,\n        propertis: propertis || []\n      };\n      if (ch == '/') {\n        this.index += 2;\n        tag.endIndex += 2;\n        tag.beginTag = true;\n        tag.closeTag = true;\n      } else if (ch == '>') {\n        if (TEST_ODD_TAG_REG.test(tag.tagName)) {\n          tag.closeTag = true;\n          tag.beginTag = true;\n        } else if (tagName.charAt(0) == '/') {\n          tag.closeTag = true;\n          tag.tagName = tagName.substring(1, tagName.length);\n        } else {\n          tag.beginTag = true;\n        }\n        this.index++;\n        tag.endIndex++;\n      } else {\n        throw xmlParseMinErr('regTag', '文档第{0}行第{1}位标签未正确关闭！', this.rowIndex, this.index - this.rowCharIndex);\n      }\n      return tag;\n    }\n  }, {\n    key: 'readProperty',\n    value: function readProperty() {\n      var propertis = [];\n      while (this.index < this.length) {\n        this.ignoreEmpty();\n        var startRowIndex = this.rowIndex;\n        var startIndex = this.index;\n        var ch = this.text.charAt(this.index);\n        if (ch == '>' || ch == '/' && this.peek() == '>') {\n          break;\n        }\n        var property = {\n          name: this.readPropertyKey()\n        };\n        ch = this.text.charAt(this.index);\n        if (ch == '=') {\n          if (!this.isEmpty(this.peek())) {\n            property.value = this.readPropertyValue();\n          }\n        }\n        property.startRowIndex = startRowIndex;\n        property.endRowIndex = this.rowIndex;\n        property.startIndex = startIndex;\n        property.endIndex = this.index;\n        propertis.push(property);\n      }\n      return propertis;\n    }\n  }, {\n    key: 'readPropertyKey',\n    value: function readPropertyKey() {\n      var key = '';\n      while (this.index < this.length) {\n        var ch = this.text.charAt(this.index);\n        if (!this.isEmpty(ch) && ch != '=' && ch != '>') {\n          if (ch == '/' && this.peek() == '>') {\n            break;\n          }\n          key += ch;\n          this.index++;\n        } else {\n          break;\n        }\n      }\n      return key;\n    }\n  }, {\n    key: 'readPropertyValue',\n    value: function readPropertyValue() {\n      var value = '';\n      var escape = false;\n      var quote = this.peek();\n      if (quote == '\"' || quote == \"'\") {\n        this.index++;\n      }\n      this.index++;\n      while (this.index < this.length) {\n        var ch = this.text.charAt(this.index);\n        if (quote != '\"' && quote != \"'\" && this.isEmpty(ch)) {\n          return value;\n        }\n        if (escape) {\n          if (ch === 'u') {\n            var hexCode = this.text.substring(this.index + 1, this.index + 5);\n            if (/[\\da-f]{4}/i.test(hexCode)) {\n              value += String.fromCharCode(parseInt(hexCode, 16));\n              this.index += 4;\n            } else {\n              throw xmlParseMinErr('readPropertyValue', '转义\\\\{0}失败，或者\\\\{0}不是一个合法的nuicode字符', hexCode);\n            }\n          } else {\n            this.index--;\n            value += this.ignoreEmpty();\n          }\n          escape = false;\n        } else if (ch == '\\\\') {\n          escape = true;\n        } else if (ch == quote && ch == '\"' || ch == \"'\") {\n          this.index++;\n          return value;\n        } else {\n          value += ch;\n        }\n        this.index++;\n      }\n    }\n  }, {\n    key: 'later',\n    value: function later() {\n      return this.text.slice(this.index, this.length);\n    }\n  }, {\n    key: 'expect',\n    value: function expect(text) {\n      var entIndex = this.index + text.length;\n      return entIndex <= this.length ? text === this.text.slice(this.index, entIndex) : false;\n    }\n  }, {\n    key: 'isEmpty',\n    value: function isEmpty(text) {\n      return typeof text !== 'string' || text === ' ' || text === '\\n' || text === '\\r' || text === '\\t' || text === '\\v' || text === ' ';\n    }\n  }, {\n    key: 'ignoreEmpty',\n    value: function ignoreEmpty() {\n      var empty = '';\n      while (this.index < this.length) {\n        var ch = this.text.charAt(this.index);\n\n        if (!this.isEmpty(ch)) {\n          break;\n        }\n        empty += ch;\n        this.index++;\n\n        if (ch == '\\r') {\n          // Mac OS\n          if (this.peek() == '\\n') {\n            // linux,unix\n            this.index++;\n          }\n          this.rowIndex++;\n          this.rowCharIndex = this.index;\n        } else if (ch == '\\n') {\n          // windows\n          this.rowIndex++;\n          this.rowCharIndex = this.index;\n        }\n      }\n      return empty;\n    }\n  }, {\n    key: 'peek',\n    value: function peek() {\n      var index = this.index + 1;\n      return index < this.length ? this.text.charAt(index) : false;\n    }\n  }]);\n\n  return XmlAst;\n}();\n\nexports.default = XmlAst;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kdWxlcy94bWxBc3QuanM/ZjMxMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7Ozs7OztBQUVBLElBQU0saUJBQWlCLHFCQUFPLFFBQVAsQ0FBdkI7O0FBRUEsSUFBTSxvQkFBb0IsQ0FBMUI7QUFDQSxJQUFNLGlCQUFpQixDQUF2QjtBQUNBLElBQU0sb0JBQW9CLENBQTFCO0FBQ0EsSUFBTSxxQkFBcUIsQ0FBM0I7QUFDQSxJQUFNLDZCQUE2QixFQUFuQzs7QUFFQSxJQUFJLGVBQWUsQ0FBQyxLQUFELEVBQVEsT0FBUixFQUFpQixJQUFqQixFQUF1QixJQUF2QixFQUE2QixPQUE3QixFQUFzQyxNQUF0QyxFQUE4QyxNQUE5QyxDQUFuQjs7SUFFcUIsTTs7Ozs7Ozt3QkFDZixJLEVBQU07QUFDUixXQUFLLElBQUwsR0FBWSxJQUFaO0FBQ0EsV0FBSyxNQUFMLEdBQWMsS0FBSyxNQUFuQjtBQUNBLFdBQUssS0FBTCxHQUFhLENBQWI7QUFDQSxXQUFLLFFBQUwsR0FBZ0IsQ0FBaEI7QUFDQSxXQUFLLFlBQUwsR0FBb0IsQ0FBcEI7QUFDQSxXQUFLLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxhQUFPLEtBQUssUUFBTCxFQUFQO0FBQ0Q7OzsrQkFDVTtBQUNULFVBQU0sbUJBQW1CLG1CQUF6QjtBQUNBLFVBQU0saUJBQWlCLE9BQU8sZ0JBQTlCO0FBQ0EsVUFBTSw2QkFBNkIsNEJBQW5DO0FBQ0EsVUFBTSxpQ0FBaUMsaUNBQXZDO0FBQ0EsVUFBTSwyQkFBMkIsbUJBQW1CLEdBQW5CLEdBQXlCLDBCQUF6QixHQUFzRCxLQUF0RCxHQUE4RCw4QkFBOUQsR0FBK0YsSUFBaEk7QUFDQSxVQUFNLHVCQUF1QixPQUFPLDBCQUFQLEdBQW9DLGdCQUFwQyxHQUF1RCxJQUFwRjs7QUFJQSxVQUFNLGVBQWUsSUFBSSxNQUFKLENBQVcsT0FBTywwQkFBUCxHQUFvQyxnQkFBcEMsR0FBdUQsU0FBdkQsR0FBbUUs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VUFBSSxRQUFRLEVBQVo7QUFDQSxhQUFPLEtBQUssS0FBTCxHQUFhLEtBQUssTUFBekIsRUFBaUM7QUFDL0IsWUFBSSxLQUFLLEtBQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsS0FBSyxLQUF0QixDQUFUOztBQUVBLFlBQUksQ0FBQyxLQUFLLE9BQUwsQ0FBYSxFQUFiLENBQUwsRUFBdUI7QUFDckI7QUFDRDtBQUNELGlCQUFTLEVBQVQ7QUFDQSxhQUFLLEtBQUw7O0FBRUEsWUFBSSxNQUFNLElBQVYsRUFBZ0I7QUFBRTtBQUNoQixjQUFJLEtBQUssSUFBTCxNQUFlLElBQW5CLEVBQXlCO0FBQUU7QUFDekIsaUJBQUssS0FBTDtBQUNEO0FBQ0QsZUFBSyxRQUFMO0FBQ0EsZUFBSyxZQUFMLEdBQW9CLEtBQUssS0FBekI7QUFDRCxTQU5ELE1BTU8sSUFBSSxNQUFNLElBQVYsRUFBZ0I7QUFBRTtBQUN2QixlQUFLLFFBQUw7QUFDQSxlQUFLLFlBQUwsR0FBb0IsS0FBSyxLQUF6QjtBQUNEO0FBQ0Y7QUFDRCxhQUFPLEtBQVA7QUFDRDs7OzJCQUNNO0FBQ0wsVUFBTSxRQUFRLEtBQUssS0FBTCxHQUFhLENBQTNCO0FBQ0EsYUFBTyxRQUFRLEtBQUssTUFBYixHQUFzQixLQUFLLElBQUwsQ0FBVSxNQUFWLENBQWlCLEtBQWpCLENBQXRCLEdBQWdELEtBQXZEO0FBQ0Q7Ozs7OztrQkExVWtCLE0iLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtaW5FcnIgZnJvbSAnLi9lcnJvcic7XG5cbmNvbnN0IHhtbFBhcnNlTWluRXJyID0gbWluRXJyKCdYbWxBc3QnKTtcblxuY29uc3QgTk9ERV9UWVBFX0VMRU1FTlQgPSAxO1xuY29uc3QgTk9ERV9UWVBFX1RFWFQgPSAzO1xuY29uc3QgTk9ERV9UWVBFX0NPTU1FTlQgPSA4O1xuY29uc3QgTk9ERV9UWVBFX0RPQ1VNRU5UID0gOTtcbmNvbnN0IE5PREVfVFlQRV9ET0NVTUVOVEZSQUdNRU5UID0gMTE7XG5cbmxldCBPRERfVEFHX0xJU1QgPSBbJ2ltZycsICdpbnB1dCcsICdicicsICdocicsICdwYXJhbScsICdtZXRhJywgJ2xpbmsnXTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgWG1sQXN0IHtcbiAgYXN0KHRleHQpIHtcbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgIHRoaXMubGVuZ3RoID0gdGV4dC5sZW5ndGg7XG4gICAgdGhpcy5pbmRleCA9IDA7XG4gICAgdGhpcy5yb3dJbmRleCA9IDA7XG4gICAgdGhpcy5yb3dDaGFySW5kZXggPSAwO1xuICAgIHRoaXMubm9kZVRyZWUgPSBbXTtcbiAgICByZXR1cm4gdGhpcy5mcmFnbWVudCgpO1xuICB9XG4gIGZyYWdtZW50KCkge1xuICAgIGNvbnN0IEVNUFRZX1JFR19TVFJJTkcgPSAnW1xcXFxuXFxcXHRcXFxcclxcXFx2XFxcXHNdJztcbiAgICBjb25zdCBBTExfUkdFX1NUUklORyA9ICcufCcgKyBFTVBUWV9SRUdfU1RSSU5HO1xuICAgIGNvbnN0IFRBR19PUl9QUk9QRVJUWV9SRUdfU1RSSU5HID0gJ1teXFxcXFxcXFwvPD5cXFxcblxcXFx0XFxcXHJcXFxcdlxcXFxzXSsnO1xuICAgIGNvbnN0IFRBR19BVFRSSUJVVEVfVkFMVUVfUkVHX1NUUklORyA9ICc9XCJbXlwiXSpcInw9XFwnW15cXCddKlxcJ3w9W15cXFxccz48XSsnO1xuICAgIGNvbnN0IFRBR19BVFRSSUJVVEVfUkVHX1NUUklORyA9IEVNUFRZX1JFR19TVFJJTkcgKyAnKycgKyBUQUdfT1JfUFJPUEVSVFlfUkVHX1NUUklORyArICcoPzonICsgVEFHX0FUVFJJQlVURV9WQUxVRV9SRUdfU1RSSU5HICsgJyk/JztcbiAgICBjb25zdCBUQUdfQ0xPU0VfUkVHX1NUUklORyA9ICc8LycgKyBUQUdfT1JfUFJPUEVSVFlfUkVHX1NUUklORyArIEVNUFRZX1JFR19TVFJJTkcgKyAnKj4nO1xuXG5cblxuICAgIGNvbnN0IFRFU1RfVEFHX1JFRyA9IG5ldyBSZWdFeHAoJ148JyArIFRBR19PUl9QUk9QRVJUWV9SRUdfU1RSSU5HICsgRU1QVFlfUkVHX1NUUklORyArICcqLz8+fF48JyArIFRBR19PUl9QUk9QRVJUWV9SRUdfU1RSSU5HICsgJyg/OicgKyBUQUdfQVRUUklCVVRFX1JFR19TVFJJTkcgKyAnKSsnICsgRU1QVFlfUkVHX1NUUklORyArICcqLz8+fF48LycgKyBUQUdfT1JfUFJPUEVSVFlfUkVHX1NUUklORyArIEVNUFRZX1JFR19TVFJJTkcgKyAnKj4nKTtcblxuXG5cbiAgICBjb25zdCBmcmFnbWVudCA9IHtcbiAgICAgIG5vZGVUeXBlOiBOT0RFX1RZUEVfRE9DVU1FTlRGUkFHTUVOVCxcbiAgICAgIGNoaWxkTm9kZXM6IFtdXG4gICAgfTtcbiAgICB0aGlzLmlnbm9yZUVtcHR5KCk7XG5cbiAgICBsZXQgcGFyZW50ID0gZnJhZ21lbnQ7XG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLmxlbmd0aCkge1xuICAgICAgbGV0IGNoID0gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtcbiAgICAgIGlmIChjaCA9PSAnPCcpIHtcbiAgICAgICAgaWYgKHRoaXMuZXhwZWN0KCc8IS0tJykpIHtcbiAgICAgICAgICBsZXQgY29tbWVudCA9IHRoaXMucmVhZENvbW1lbnQoKTtcbiAgICAgICAgICBjb21tZW50LnBhcmVudE5vZGUgPSBwYXJlbnQ7XG4gICAgICAgICAgcGFyZW50LmNoaWxkTm9kZXMucHVzaChjb21tZW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChURVNUX1RBR19SRUcudGVzdCh0aGlzLmxhdGVyKCkpKSB7XG4gICAgICAgICAgbGV0IHRhZyA9IHRoaXMucmVhZFRhZygpO1xuXG4gICAgICAgICAgaWYgKHRhZy5jbG9zZVRhZyAmJiAhdGFnLmJlZ2luVGFnKSB7XG4gICAgICAgICAgICBsZXQgYmVnaW5UYWcgPSB0aGlzLm5vZGVUcmVlLnBvcCgpO1xuICAgICAgICAgICAgaWYgKCFiZWdpblRhZykge1xuICAgICAgICAgICAgICB0aHJvdyB4bWxQYXJzZU1pbkVycignbGV4ZXInLCAn5paH5qGj56ysezB96KGM56ysezF95L2NYDx7Mn0+YOagh+etvumUmeivr++8jOacquW8gOWni+eahOagh+etvuS4jemXreWQiO+8gScsIHRoaXMucm93SW5kZXgsIHRhZy5zdGFydEluZGV4IC0gdGhpcy5yb3dDaGFySW5kZXgsIHRhZy50YWdOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiZWdpblRhZyAhPSB0YWcudGFnTmFtZSkge1xuICAgICAgICAgICAgICB0aHJvdyB4bWxQYXJzZU1pbkVycignbGV4ZXInLCAn5paH5qGj56ysezB96KGM56ysezF95L2N5qCH562+YDx7Mn0+YOacquWMuemFjeato+ehrueahOW8gOWni+agh+etvu+8gScsIHRoaXMucm93SW5kZXgsIHRhZy5zdGFydEluZGV4IC0gdGhpcy5yb3dDaGFySW5kZXgsIHRhZy50YWdOYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlmICh0YWcuYmVnaW5UYWcgJiYgdGFnLmNsb3NlVGFnKSB7XG4gICAgICAgICAgICAgIHRhZy5wYXJlbnROb2RlID0gcGFyZW50O1xuICAgICAgICAgICAgICBwYXJlbnQuY2hpbGROb2Rlcy5wdXNoKHRhZyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLm5vZGVUcmVlLnB1c2godGFnLnRhZ05hbWUpO1xuICAgICAgICAgICAgICB0YWcucGFyZW50Tm9kZSA9IHBhcmVudDtcbiAgICAgICAgICAgICAgcGFyZW50LmNoaWxkTm9kZXMucHVzaCh0YWcpO1xuICAgICAgICAgICAgICBpZiAodGFnLmJlZ2luVGFnKSB7XG4gICAgICAgICAgICAgICAgdGFnLmNoaWxkTm9kZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSB0YWc7XG4gICAgICAgICAgICAgICAgaWYgKC9eKHNjcmlwdHxzdHlsZSkkL2kudGVzdCh0YWcudGFnTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgIGxldCBlbGUgPSB0aGlzLnJlYWRTY3JpcHRPclN0eWxlKHRhZy50YWdOYW1lKTtcbiAgICAgICAgICAgICAgICAgIGlmIChlbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFnLmNoaWxkTm9kZXMucHVzaChlbGUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJlbnQuY2hpbGROb2Rlcy5wdXNoKHRoaXMucmVhZFRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudC5jaGlsZE5vZGVzLnB1c2godGhpcy5yZWFkVGV4dCgpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMubm9kZVRyZWUubGVuZ3RoKSB7XG4gICAgICB0aHJvdyB4bWxQYXJzZU1pbkVycignZnJhZ21lbnQnLCAn5paH5qGj57uT5bC+YDx7MH0+YOagh+etvuacqumXreWQiO+8gScsIHRoaXMubm9kZVRyZWUuam9pbignYD4sPGAnKSk7XG4gICAgfVxuICAgIHJldHVybiBmcmFnbWVudDtcbiAgfVxuICByZWFkU2NyaXB0T3JTdHlsZSh0YWdOYW1lKSB7XG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgY29uc3Qgc3RhcnRSb3dJbmRleCA9IHRoaXMucm93SW5kZXg7XG4gICAgY29uc3QgbGF0ZXIgPSB0aGlzLmxhdGVyKCk7XG4gICAgY29uc3QgZW5kSW5kZXggPSBsYXRlci5zZWFyY2gobmV3IFJlZ0V4cCgnPC8nICsgdGFnTmFtZSArICcoLnxbXFxcXG5cXFxcdFxcXFxyXFxcXHZcXFxcc10pKj4nKSk7XG4gICAgaWYgKGVuZEluZGV4ID09IC0xKSB7XG4gICAgICB0aHJvdyB4bWxQYXJzZU1pbkVycigncmVhZFNjcmlwdE9yU3R5bGUnLCAn56ysezB96KGM56ysezF95L2N55qEezJ95qCH562+5pyq5YWz6Zet77yBJywgdGhpcy5yb3dJbmRleCwgdGhpcy5pbmRleCAtIHRoaXMucm93Q2hhckluZGV4LCB0YWdOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cbiAgICBjb25zdCB0ZXh0ID0gbGF0ZXIuc3Vic3RyaW5nKDAsIGVuZEluZGV4KTtcbiAgICBjb25zdCByb3dTaXplID0gdGV4dC5tYXRjaCgvXFxyXFxufFxccnxcXG4vZyk7XG4gICAgaWYgKHJvd1NpemUpIHtcbiAgICAgIHRoaXMucm93SW5kZXggKz0gcm93U2l6ZS5sZW5ndGg7XG4gICAgfVxuICAgIHRoaXMuaW5kZXggKz0gZW5kSW5kZXg7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0SW5kZXg6IHN0YXJ0SW5kZXgsXG4gICAgICBlbmRJbmRleDogdGhpcy5pbmRleCxcbiAgICAgIHN0YXJ0Um93SW5kZXg6IHN0YXJ0Um93SW5kZXgsXG4gICAgICBlbmRSb3dJbmRleDogdGhpcy5yb3dJbmRleCxcbiAgICAgIG5vZGVUeXBlOiBOT0RFX1RZUEVfVEVYVCxcbiAgICAgIHRleHQ6IHRleHRcbiAgICB9O1xuICB9XG4gIHJlYWRDb21tZW50KCkge1xuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSB0aGlzLmluZGV4O1xuICAgIGNvbnN0IHN0YXJ0Um93SW5kZXggPSB0aGlzLnJvd0luZGV4O1xuICAgIHRoaXMuaW5kZXggKz0gNDtcbiAgICBjb25zdCBsYXRlciA9IHRoaXMubGF0ZXIoKTtcbiAgICBsZXQgZW5kSW5kZXggPSBsYXRlci5pbmRleE9mKCctLT4nKTtcbiAgICBpZiAoZW5kSW5kZXggPT0gLTEpIHtcbiAgICAgIGVuZEluZGV4ID0gbGF0ZXIubGVuZ3RoO1xuICAgIH1cbiAgICBjb25zdCB0ZXh0ID0gbGF0ZXIuc3Vic3RyaW5nKDAsIGVuZEluZGV4KTtcbiAgICBjb25zdCByb3dTaXplID0gdGV4dC5tYXRjaCgvXFxyXFxufFxccnxcXG4vZyk7XG4gICAgaWYgKHJvd1NpemUpIHtcbiAgICAgIHRoaXMucm93SW5kZXggKz0gcm93U2l6ZS5sZW5ndGg7XG4gICAgfVxuICAgIHRoaXMuaW5kZXggPSB0aGlzLmluZGV4ICsgZW5kSW5kZXg7XG4gICAgaWYgKHRoaXMucGVlaygpKSB7XG4gICAgICB0aGlzLmluZGV4ICs9IDM7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzdGFydEluZGV4OiBzdGFydEluZGV4LFxuICAgICAgZW5kSW5kZXg6IHRoaXMuaW5kZXgsXG4gICAgICBzdGFydFJvd0luZGV4OiBzdGFydFJvd0luZGV4LFxuICAgICAgZW5kUm93SW5kZXg6IHRoaXMucm93SW5kZXgsXG4gICAgICBub2RlVHlwZTogTk9ERV9UWVBFX0NPTU1FTlQsXG4gICAgICB0ZXh0OiB0ZXh0XG4gICAgfVxuICB9XG4gIHJlYWRUZXh0KCkge1xuICAgIGNvbnN0IHN0YXJ0Um93SW5kZXggPSB0aGlzLnJvd0luZGV4O1xuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSB0aGlzLmluZGV4O1xuICAgIGxldCB0ZXh0ID0gJyc7XG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLmxlbmd0aCkge1xuICAgICAgbGV0IGNoID0gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtcbiAgICAgIGlmICh0aGlzLmlzRW1wdHkoY2gpKSB7XG4gICAgICAgIHRleHQgKz0gdGhpcy5pZ25vcmVFbXB0eSgpO1xuICAgICAgfSBlbHNlIGlmIChjaCAhPSAnPCcpIHtcbiAgICAgICAgdGV4dCArPSBjaDtcbiAgICAgICAgdGhpcy5pbmRleCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzdGFydFJvd0luZGV4OiBzdGFydFJvd0luZGV4LFxuICAgICAgZW5kUm93SW5kZXg6IHRoaXMucm93SW5kZXgsXG4gICAgICBzdGFydEluZGV4OiBzdGFydEluZGV4LFxuICAgICAgZW5kSW5kZXg6IHRoaXMuaW5kZXgsXG4gICAgICBub2RlVHlwZTogTk9ERV9UWVBFX1RFWFQsXG4gICAgICB0ZXh0OiB0ZXh0XG4gICAgfVxuICB9XG4gIHJlYWRUYWcoKSB7XG4gICAgY29uc3Qgc3RhcnRSb3dJbmRleCA9IHRoaXMucm93SW5kZXg7XG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgY29uc3QgVEVTVF9PRERfVEFHX1JFRyA9IG5ldyBSZWdFeHAoJ14nICsgT0REX1RBR19MSVNULmpvaW4oJ3wnKSArICckJyk7XG5cbiAgICBsZXQgdGFnTmFtZSA9ICcnO1xuICAgIGxldCBwcm9wZXJ0aXM7XG4gICAgbGV0IGNoO1xuICAgIHRoaXMuaW5kZXgrKztcbiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMubGVuZ3RoKSB7XG4gICAgICBjaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7XG5cbiAgICAgIGlmICghdGhpcy5pc0VtcHR5KGNoKSkge1xuICAgICAgICBpZiAoY2ggPT0gJz4nIHx8IGNoID09ICcvJyAmJiB0aGlzLnBlZWsoKSA9PSAnPicpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0YWdOYW1lICs9IGNoO1xuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9wZXJ0aXMgPSB0aGlzLnJlYWRQcm9wZXJ0eSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgdGFnID0ge1xuICAgICAgc3RhcnRSb3dJbmRleDogc3RhcnRSb3dJbmRleCxcbiAgICAgIGVuZFJvd0luZGV4OiB0aGlzLnJvd0luZGV4LFxuICAgICAgc3RhcnRJbmRleDogc3RhcnRJbmRleCxcbiAgICAgIGVuZEluZGV4OiB0aGlzLmluZGV4LFxuICAgICAgbm9kZVR5cGU6IE5PREVfVFlQRV9FTEVNRU5ULFxuICAgICAgdGFnTmFtZTogdGFnTmFtZSxcbiAgICAgIHByb3BlcnRpczogcHJvcGVydGlzIHx8IFtdXG4gICAgfVxuICAgIGlmIChjaCA9PSAnLycpIHtcbiAgICAgIHRoaXMuaW5kZXggKz0gMjtcbiAgICAgIHRhZy5lbmRJbmRleCArPSAyO1xuICAgICAgdGFnLmJlZ2luVGFnID0gdHJ1ZTtcbiAgICAgIHRhZy5jbG9zZVRhZyA9IHRydWU7XG5cbiAgICB9IGVsc2UgaWYgKGNoID09ICc+Jykge1xuICAgICAgaWYgKFRFU1RfT0REX1RBR19SRUcudGVzdCh0YWcudGFnTmFtZSkpIHtcbiAgICAgICAgdGFnLmNsb3NlVGFnID0gdHJ1ZTtcbiAgICAgICAgdGFnLmJlZ2luVGFnID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAodGFnTmFtZS5jaGFyQXQoMCkgPT0gJy8nKSB7XG4gICAgICAgIHRhZy5jbG9zZVRhZyA9IHRydWU7XG4gICAgICAgIHRhZy50YWdOYW1lID0gdGFnTmFtZS5zdWJzdHJpbmcoMSwgdGFnTmFtZS5sZW5ndGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFnLmJlZ2luVGFnID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgIHRhZy5lbmRJbmRleCsrO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyB4bWxQYXJzZU1pbkVycigncmVnVGFnJywgJ+aWh+aho+esrHswfeihjOesrHsxfeS9jeagh+etvuacquato+ehruWFs+mXre+8gScsIHRoaXMucm93SW5kZXgsIHRoaXMuaW5kZXggLSB0aGlzLnJvd0NoYXJJbmRleCk7XG4gICAgfVxuICAgIHJldHVybiB0YWc7XG4gIH1cbiAgcmVhZFByb3BlcnR5KCkge1xuICAgIGxldCBwcm9wZXJ0aXMgPSBbXTtcbiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmlnbm9yZUVtcHR5KCk7XG4gICAgICBjb25zdCBzdGFydFJvd0luZGV4ID0gdGhpcy5yb3dJbmRleDtcbiAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgbGV0IGNoID0gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtcbiAgICAgIGlmIChjaCA9PSAnPicgfHwgY2ggPT0gJy8nICYmIHRoaXMucGVlaygpID09ICc+Jykge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGxldCBwcm9wZXJ0eSA9IHtcbiAgICAgICAgbmFtZTogdGhpcy5yZWFkUHJvcGVydHlLZXkoKVxuICAgICAgfTtcbiAgICAgIGNoID0gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtcbiAgICAgIGlmIChjaCA9PSAnPScpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW1wdHkodGhpcy5wZWVrKCkpKSB7XG4gICAgICAgICAgcHJvcGVydHkudmFsdWUgPSB0aGlzLnJlYWRQcm9wZXJ0eVZhbHVlKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcHJvcGVydHkuc3RhcnRSb3dJbmRleCA9IHN0YXJ0Um93SW5kZXg7XG4gICAgICBwcm9wZXJ0eS5lbmRSb3dJbmRleCA9IHRoaXMucm93SW5kZXg7XG4gICAgICBwcm9wZXJ0eS5zdGFydEluZGV4ID0gc3RhcnRJbmRleDtcbiAgICAgIHByb3BlcnR5LmVuZEluZGV4ID0gdGhpcy5pbmRleDtcbiAgICAgIHByb3BlcnRpcy5wdXNoKHByb3BlcnR5KTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3BlcnRpcztcbiAgfVxuICByZWFkUHJvcGVydHlLZXkoKSB7XG4gICAgbGV0IGtleSA9ICcnO1xuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy5sZW5ndGgpIHtcbiAgICAgIGxldCBjaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7XG4gICAgICBpZiAoIXRoaXMuaXNFbXB0eShjaCkgJiYgY2ggIT0gJz0nICYmIGNoICE9ICc+Jykge1xuICAgICAgICBpZiAoY2ggPT0gJy8nICYmIHRoaXMucGVlaygpID09ICc+Jykge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGtleSArPSBjaDtcbiAgICAgICAgdGhpcy5pbmRleCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH1cbiAgcmVhZFByb3BlcnR5VmFsdWUoKSB7XG4gICAgbGV0IHZhbHVlID0gJyc7XG4gICAgbGV0IGVzY2FwZSA9IGZhbHNlO1xuICAgIGxldCBxdW90ZSA9IHRoaXMucGVlaygpO1xuICAgIGlmIChxdW90ZSA9PSAnXCInIHx8IHF1b3RlID09IFwiJ1wiKSB7XG4gICAgICB0aGlzLmluZGV4Kys7XG4gICAgfVxuICAgIHRoaXMuaW5kZXgrKztcbiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMubGVuZ3RoKSB7XG4gICAgICBsZXQgY2ggPSB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpO1xuICAgICAgaWYgKHF1b3RlICE9ICdcIicgJiYgcXVvdGUgIT0gXCInXCIgJiYgdGhpcy5pc0VtcHR5KGNoKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoZXNjYXBlKSB7XG4gICAgICAgIGlmIChjaCA9PT0gJ3UnKSB7XG4gICAgICAgICAgbGV0IGhleENvZGUgPSB0aGlzLnRleHQuc3Vic3RyaW5nKHRoaXMuaW5kZXggKyAxLCB0aGlzLmluZGV4ICsgNSk7XG4gICAgICAgICAgaWYgKC9bXFxkYS1mXXs0fS9pLnRlc3QoaGV4Q29kZSkpIHtcbiAgICAgICAgICAgIHZhbHVlICs9IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoaGV4Q29kZSwgMTYpKTtcbiAgICAgICAgICAgIHRoaXMuaW5kZXggKz0gNDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgeG1sUGFyc2VNaW5FcnIoJ3JlYWRQcm9wZXJ0eVZhbHVlJywgJ+i9rOS5iVxcXFx7MH3lpLHotKXvvIzmiJbogIVcXFxcezB95LiN5piv5LiA5Liq5ZCI5rOV55qEbnVpY29kZeWtl+espicsIGhleENvZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmluZGV4LS07XG4gICAgICAgICAgdmFsdWUgKz0gdGhpcy5pZ25vcmVFbXB0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGVzY2FwZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChjaCA9PSAnXFxcXCcpIHtcbiAgICAgICAgZXNjYXBlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoY2ggPT0gcXVvdGUgJiYgY2ggPT0gJ1wiJyB8fCBjaCA9PSBcIidcIikge1xuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlICs9IGNoO1xuICAgICAgfVxuICAgICAgdGhpcy5pbmRleCsrO1xuICAgIH1cbiAgfVxuICBsYXRlcigpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0LnNsaWNlKHRoaXMuaW5kZXgsIHRoaXMubGVuZ3RoKTtcbiAgfVxuICBleHBlY3QodGV4dCkge1xuICAgIGNvbnN0IGVudEluZGV4ID0gdGhpcy5pbmRleCArIHRleHQubGVuZ3RoO1xuICAgIHJldHVybiBlbnRJbmRleCA8PSB0aGlzLmxlbmd0aCA/IHRleHQgPT09IHRoaXMudGV4dC5zbGljZSh0aGlzLmluZGV4LCBlbnRJbmRleCkgOiBmYWxzZTtcbiAgfVxuICBpc0VtcHR5KHRleHQpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRleHQgIT09ICdzdHJpbmcnIHx8IHRleHQgPT09ICcgJyB8fCB0ZXh0ID09PSAnXFxuJyB8fCB0ZXh0ID09PSAnXFxyJyB8fCB0ZXh0ID09PSAnXFx0JyB8fCB0ZXh0ID09PSAnXFx2JyB8fCB0ZXh0ID09PSAnXFx1MDBhMCc7XG4gIH1cbiAgaWdub3JlRW1wdHkoKSB7XG4gICAgbGV0IGVtcHR5ID0gJyc7XG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLmxlbmd0aCkge1xuICAgICAgbGV0IGNoID0gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtcblxuICAgICAgaWYgKCF0aGlzLmlzRW1wdHkoY2gpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZW1wdHkgKz0gY2g7XG4gICAgICB0aGlzLmluZGV4Kys7XG5cbiAgICAgIGlmIChjaCA9PSAnXFxyJykgeyAvLyBNYWMgT1NcbiAgICAgICAgaWYgKHRoaXMucGVlaygpID09ICdcXG4nKSB7IC8vIGxpbnV4LHVuaXhcbiAgICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yb3dJbmRleCsrO1xuICAgICAgICB0aGlzLnJvd0NoYXJJbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICB9IGVsc2UgaWYgKGNoID09ICdcXG4nKSB7IC8vIHdpbmRvd3NcbiAgICAgICAgdGhpcy5yb3dJbmRleCsrO1xuICAgICAgICB0aGlzLnJvd0NoYXJJbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbXB0eTtcbiAgfVxuICBwZWVrKCkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5pbmRleCArIDE7XG4gICAgcmV0dXJuIGluZGV4IDwgdGhpcy5sZW5ndGggPyB0aGlzLnRleHQuY2hhckF0KGluZGV4KSA6IGZhbHNlO1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9qcy9tb2R1bGVzL3htbEFzdC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 2 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = minErr;\nfunction minErr(module) {\n  return function (code, template) {\n    for (var _len = arguments.length, info = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      info[_key - 2] = arguments[_key];\n    }\n\n    var msg = '[' + (module ? module + ':' : '') + code + ']  ';\n    msg += template.replace(/\\{(\\d+)\\}/g, function (str, $1) {\n      return info[+$1] ? info[+$1] : str;\n    });\n\n    msg += '\\nhttp://www.TBjs.org?module=' + module + '&type=' + code;\n    return new Error(msg);\n  };\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kdWxlcy9lcnJvci5qcz8wNjVjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O2tCQUF3QixNO0FBQVQsU0FBUyxNQUFULENBQWdCLE1BQWhCLEVBQXdCO0FBQ3JDLFNBQU8sVUFBVSxJQUFWLEVBQWdCLFFBQWhCLEVBQW1DO0FBQUEsc0NBQU4sSUFBTTtBQUFOLFVBQU07QUFBQTs7QUFDeEMsUUFBSSxNQUFNLE9BQU8sU0FBUyxTQUFTLEdBQWxCLEdBQXdCLEVBQS9CLElBQXFDLElBQXJDLEdBQTRDLEtBQXREO0FBQ0EsV0FBTyxTQUFTLE9BQVQsQ0FBaUIsWUFBakIsRUFBK0IsVUFBVSxHQUFWLEVBQWUsRUFBZixFQUFtQjtBQUN2RCxhQUFPLEtBQUssQ0FBQyxFQUFOLElBQVksS0FBSyxDQUFDLEVBQU4sQ0FBWixHQUF3QixHQUEvQjtBQUNELEtBRk0sQ0FBUDs7QUFJQSxXQUFPLGtDQUFrQyxNQUFsQyxHQUEyQyxRQUEzQyxHQUFzRCxJQUE3RDtBQUNBLFdBQU8sSUFBSSxLQUFKLENBQVUsR0FBVixDQUFQO0FBQ0QsR0FSRDtBQVNEIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtaW5FcnIobW9kdWxlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoY29kZSwgdGVtcGxhdGUsIC4uLmluZm8pIHtcbiAgICBsZXQgbXNnID0gJ1snICsgKG1vZHVsZSA/IG1vZHVsZSArICc6JyA6ICcnKSArIGNvZGUgKyAnXSAgJztcbiAgICBtc2cgKz0gdGVtcGxhdGUucmVwbGFjZSgvXFx7KFxcZCspXFx9L2csIGZ1bmN0aW9uIChzdHIsICQxKSB7XG4gICAgICByZXR1cm4gaW5mb1srJDFdID8gaW5mb1srJDFdIDogc3RyO1xuICAgIH0pXG5cbiAgICBtc2cgKz0gJ1xcbmh0dHA6Ly93d3cuVEJqcy5vcmc/bW9kdWxlPScgKyBtb2R1bGUgKyAnJnR5cGU9JyArIGNvZGU7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihtc2cpO1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9qcy9tb2R1bGVzL2Vycm9yLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }
/******/ ]);
