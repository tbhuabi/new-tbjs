/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _htmlParser = __webpack_require__(1);\n\nvar _htmlParser2 = _interopRequireDefault(_htmlParser);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.onload = function () {\n    var htmlParser = new _htmlParser2.default();\n    var a = htmlParser.parse(document.querySelector('html').outerHTML);\n    console.log(a);\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvaW5kZXguanM/YmM2NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7QUFFQSxPQUFPLE1BQVAsR0FBZ0IsWUFBWTtBQUN4QixRQUFJLGFBQWEsMEJBQWpCO0FBQ0EsUUFBSSxJQUFJLFdBQVcsS0FBWCxDQUFpQixTQUFTLGFBQVQsQ0FBdUIsTUFBdkIsRUFBK0IsU0FBaEQsQ0FBUjtBQUNBLFlBQVEsR0FBUixDQUFZLENBQVo7QUFDSCxDQUpEIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSHRtbFBhcnNlciBmcm9tICcuL21vZHVsZXMvaHRtbFBhcnNlcic7XG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IGh0bWxQYXJzZXIgPSBuZXcgSHRtbFBhcnNlcigpO1xuICAgIGxldCBhID0gaHRtbFBhcnNlci5wYXJzZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJykub3V0ZXJIVE1MKTtcbiAgICBjb25zb2xlLmxvZyhhKVxufTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2pzL2luZGV4LmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _error = __webpack_require__(2);\n\nvar _error2 = _interopRequireDefault(_error);\n\nvar _xmlAst = __webpack_require__(3);\n\nvar _xmlAst2 = _interopRequireDefault(_xmlAst);\n\nvar _virtualDom = __webpack_require__(6);\n\nvar _virtualDom2 = _interopRequireDefault(_virtualDom);\n\nvar _variables = __webpack_require__(4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar htmlParseMinErr = (0, _error2.default)('htmlParser');\n\nvar HtmlParser = function () {\n    function HtmlParser() {\n        _classCallCheck(this, HtmlParser);\n    }\n\n    _createClass(HtmlParser, [{\n        key: 'parse',\n        value: function parse(text) {\n            this.text = text;\n            this.ast = _xmlAst2.default;\n            this.fragment = new _xmlAst2.default().ast(text);\n            this.virtualDom = new _virtualDom2.default();\n            return this.compile(this.virtualDom, this.fragment.childNodes);\n        }\n    }, {\n        key: 'compile',\n        value: function compile(parentNode, elements) {\n            var _this = this;\n\n            elements.forEach(function (item) {\n                var node = void 0;\n                switch (item.nodeType) {\n                    case _variables.NODE_TYPE_ELEMENT:\n                        node = _this.virtualDom.createElement(item);\n                        if (item.childNodes) {\n                            _this.compile(node, item.childNodes);\n                        }\n                        break;\n                    case _variables.NODE_TYPE_TEXT:\n                        node = _this.virtualDom.createTextNode(item);\n                        break;\n                    case _variables.NODE_TYPE_COMMENT:\n                        node = _this.virtualDom.createComment(item);\n                        break;\n                    default:\n                        throw htmlParseMinErr('compile', '编译虚拟DOM出错，当前节点类型为`{0}`！', item.nodeType);\n                }\n                parentNode.appendChild(node);\n                if (item.propertis) {\n                    item.propertis.forEach(function (attr) {\n                        node.setAttribute(attr.key, attr.value);\n                    });\n                }\n            });\n            return this.virtualDom;\n        }\n    }]);\n\n    return HtmlParser;\n}();\n\nexports.default = HtmlParser;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kdWxlcy9odG1sUGFyc2VyLmpzPzM3YWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBUUEsSUFBTSxrQkFBa0IscUJBQU8sWUFBUCxDQUF4Qjs7SUFDcUIsVTs7Ozs7Ozs4QkFDWCxJLEVBQU07QUFDUixpQkFBSyxJQUFMLEdBQVksSUFBWjtBQUNBLGlCQUFLLEdBQUw7QUFDQSxpQkFBSyxRQUFMLEdBQWdCLHVCQUFhLEdBQWIsQ0FBaUIsSUFBakIsQ0FBaEI7QUFDQSxpQkFBSyxVQUFMLEdBQWtCLDBCQUFsQjtBQUNBLG1CQUFPLEtBQUssT0FBTCxDQUFhLEtBQUssVUFBbEIsRUFBOEIsS0FBSyxRQUFMLENBQWMsVUFBNUMsQ0FBUDtBQUNIOzs7Z0NBQ08sVSxFQUFZLFEsRUFBVTtBQUFBOztBQUMxQixxQkFBUyxPQUFULENBQWlCLFVBQUMsSUFBRCxFQUFVO0FBQ3ZCLG9CQUFJLGFBQUo7QUFDQSx3QkFBUSxLQUFLLFFBQWI7QUFDSTtBQUNJLCtCQUFPLE1BQUssVUFBTCxDQUFnQixhQUFoQixDQUE4QixJQUE5QixDQUFQO0FBQ0EsNEJBQUksS0FBSyxVQUFULEVBQXFCO0FBQ2pCLGtDQUFLLE9BQUwsQ0FBYSxJQUFiLEVBQW1CLEtBQUssVUFBeEI7QUFDSDtBQUNEO0FBQ0o7QUFDSSwrQkFBTyxNQUFLLFVBQUwsQ0FBZ0IsY0FBaEIsQ0FBK0IsSUFBL0IsQ0FBUDtBQUNBO0FBQ0o7QUFDSSwrQkFBTyxNQUFLLFVBQUwsQ0FBZ0IsYUFBaEIsQ0FBOEIsSUFBOUIsQ0FBUDtBQUNBO0FBQ0o7QUFDSSw4QkFBTSxnQkFBZ0IsU0FBaEIsRUFBMkIseUJBQTNCLEVBQXNELEtBQUssUUFBM0QsQ0FBTjtBQWRSO0FBZ0JBLDJCQUFXLFdBQVgsQ0FBdUIsSUFBdkI7QUFDQSxvQkFBSSxLQUFLLFNBQVQsRUFBb0I7QUFDaEIseUJBQUssU0FBTCxDQUFlLE9BQWYsQ0FBdUIsVUFBQyxJQUFELEVBQVU7QUFDN0IsNkJBQUssWUFBTCxDQUFrQixLQUFLLEdBQXZCLEVBQTRCLEtBQUssS0FBakM7QUFDSCxxQkFGRDtBQUdIO0FBQ0osYUF4QkQ7QUF5QkEsbUJBQU8sS0FBSyxVQUFaO0FBQ0g7Ozs7OztrQkFuQ2dCLFUiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtaW5FcnIgZnJvbSAnLi9lcnJvcic7XG5pbXBvcnQgWG1sQXN0IGZyb20gJy4veG1sQXN0JztcbmltcG9ydCBEb2N1bWVudEVsZW1lbnQgZnJvbSAnLi92aXJ0dWFsRG9tJztcbmltcG9ydCB7XG4gICAgTk9ERV9UWVBFX0VMRU1FTlQsXG4gICAgTk9ERV9UWVBFX1RFWFQsXG4gICAgTk9ERV9UWVBFX0NPTU1FTlQsXG4gICAgTk9ERV9UWVBFX0RPQ1VNRU5ULFxuICAgIE5PREVfVFlQRV9ET0NVTUVOVEZSQUdNRU5ULFxufVxuZnJvbSAnLi92YXJpYWJsZXMnO1xuY29uc3QgaHRtbFBhcnNlTWluRXJyID0gbWluRXJyKCdodG1sUGFyc2VyJyk7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIdG1sUGFyc2VyIHtcbiAgICBwYXJzZSh0ZXh0KSB7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMuYXN0ID0gWG1sQXN0O1xuICAgICAgICB0aGlzLmZyYWdtZW50ID0gbmV3IFhtbEFzdCgpLmFzdCh0ZXh0KTtcbiAgICAgICAgdGhpcy52aXJ0dWFsRG9tID0gbmV3IERvY3VtZW50RWxlbWVudCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb21waWxlKHRoaXMudmlydHVhbERvbSwgdGhpcy5mcmFnbWVudC5jaGlsZE5vZGVzKTtcbiAgICB9XG4gICAgY29tcGlsZShwYXJlbnROb2RlLCBlbGVtZW50cykge1xuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBsZXQgbm9kZTtcbiAgICAgICAgICAgIHN3aXRjaCAoaXRlbS5ub2RlVHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgTk9ERV9UWVBFX0VMRU1FTlQ6XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSB0aGlzLnZpcnR1YWxEb20uY3JlYXRlRWxlbWVudChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uY2hpbGROb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21waWxlKG5vZGUsIGl0ZW0uY2hpbGROb2Rlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBOT0RFX1RZUEVfVEVYVDpcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHRoaXMudmlydHVhbERvbS5jcmVhdGVUZXh0Tm9kZShpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBOT0RFX1RZUEVfQ09NTUVOVDpcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHRoaXMudmlydHVhbERvbS5jcmVhdGVDb21tZW50KGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBodG1sUGFyc2VNaW5FcnIoJ2NvbXBpbGUnLCAn57yW6K+R6Jma5oufRE9N5Ye66ZSZ77yM5b2T5YmN6IqC54K557G75Z6L5Li6YHswfWDvvIEnLCBpdGVtLm5vZGVUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICBpZiAoaXRlbS5wcm9wZXJ0aXMpIHtcbiAgICAgICAgICAgICAgICBpdGVtLnByb3BlcnRpcy5mb3JFYWNoKChhdHRyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHIua2V5LCBhdHRyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gdGhpcy52aXJ0dWFsRG9tO1xuICAgIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2pzL21vZHVsZXMvaHRtbFBhcnNlci5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 2 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = minErr;\nfunction minErr(module) {\n    return function (code, template) {\n        for (var _len = arguments.length, info = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n            info[_key - 2] = arguments[_key];\n        }\n\n        var msg = '[' + (module ? module + ':' : '') + code + ']  ';\n        msg += template.replace(/\\{(\\d+)\\}/g, function (str, $1) {\n            return info[+$1] ? info[+$1] : str;\n        });\n\n        msg += '\\nhttp://www.TBjs.org?module=' + module + '&type=' + code;\n        return new Error(msg);\n    };\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kdWxlcy9lcnJvci5qcz8wNjVjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O2tCQUF3QixNO0FBQVQsU0FBUyxNQUFULENBQWdCLE1BQWhCLEVBQXdCO0FBQ25DLFdBQU8sVUFBVSxJQUFWLEVBQWdCLFFBQWhCLEVBQW1DO0FBQUEsMENBQU4sSUFBTTtBQUFOLGdCQUFNO0FBQUE7O0FBQ3RDLFlBQUksTUFBTSxPQUFPLFNBQVMsU0FBUyxHQUFsQixHQUF3QixFQUEvQixJQUFxQyxJQUFyQyxHQUE0QyxLQUF0RDtBQUNBLGVBQU8sU0FBUyxPQUFULENBQWlCLFlBQWpCLEVBQStCLFVBQVUsR0FBVixFQUFlLEVBQWYsRUFBbUI7QUFDckQsbUJBQU8sS0FBSyxDQUFDLEVBQU4sSUFBWSxLQUFLLENBQUMsRUFBTixDQUFaLEdBQXdCLEdBQS9CO0FBQ0gsU0FGTSxDQUFQOztBQUlBLGVBQU8sa0NBQWtDLE1BQWxDLEdBQTJDLFFBQTNDLEdBQXNELElBQTdEO0FBQ0EsZUFBTyxJQUFJLEtBQUosQ0FBVSxHQUFWLENBQVA7QUFDSCxLQVJEO0FBU0giLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1pbkVycihtb2R1bGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNvZGUsIHRlbXBsYXRlLCAuLi5pbmZvKSB7XG4gICAgICAgIGxldCBtc2cgPSAnWycgKyAobW9kdWxlID8gbW9kdWxlICsgJzonIDogJycpICsgY29kZSArICddICAnO1xuICAgICAgICBtc2cgKz0gdGVtcGxhdGUucmVwbGFjZSgvXFx7KFxcZCspXFx9L2csIGZ1bmN0aW9uIChzdHIsICQxKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5mb1srJDFdID8gaW5mb1srJDFdIDogc3RyO1xuICAgICAgICB9KVxuXG4gICAgICAgIG1zZyArPSAnXFxuaHR0cDovL3d3dy5UQmpzLm9yZz9tb2R1bGU9JyArIG1vZHVsZSArICcmdHlwZT0nICsgY29kZTtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihtc2cpO1xuICAgIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2pzL21vZHVsZXMvZXJyb3IuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 3 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _error = __webpack_require__(2);\n\nvar _error2 = _interopRequireDefault(_error);\n\nvar _variables = __webpack_require__(4);\n\nvar _public = __webpack_require__(5);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar xmlParseMinErr = (0, _error2.default)('XmlAst');\n\nvar XmlAst = function () {\n    function XmlAst() {\n        _classCallCheck(this, XmlAst);\n    }\n\n    _createClass(XmlAst, [{\n        key: 'ast',\n        value: function ast(text) {\n            this.text = text;\n            this.length = text.length;\n            this.index = 0;\n            this.rowIndex = 0;\n            this.rowCharIndex = 0;\n            this.nodeTree = [];\n            return this.fragment();\n        }\n    }, {\n        key: 'fragment',\n        value: function fragment() {\n            var EMPTY_REG_STRING = '[\\\\n\\\\t\\\\r\\\\v\\\\s]';\n            var TAG_OR_PROPERTY_REG_STRING = '[^\\\\\\\\/<>\\\\n\\\\t\\\\r\\\\v\\\\s]+';\n            var TAG_ATTRIBUTE_VALUE_REG_STRING = '=\"[^\"]*\"|=\\'[^\\']*\\'|=[^\\\\s><]+';\n            var TAG_ATTRIBUTE_REG_STRING = EMPTY_REG_STRING + '+' + TAG_OR_PROPERTY_REG_STRING + '(?:' + TAG_ATTRIBUTE_VALUE_REG_STRING + ')?';\n\n            var TEST_TAG_REG = new RegExp('^<' + TAG_OR_PROPERTY_REG_STRING + EMPTY_REG_STRING + '*/?>|^<' + TAG_OR_PROPERTY_REG_STRING + '(?:' + TAG_ATTRIBUTE_REG_STRING + ')+' + EMPTY_REG_STRING + '*/?>|^</' + TAG_OR_PROPERTY_REG_STRING + EMPTY_REG_STRING + '*>');\n\n            var fragment = {\n                nodeType: _variables.NODE_TYPE_DOCUMENTFRAGMENT,\n                childNodes: []\n            };\n            this.ignoreEmpty();\n\n            var parent = fragment;\n            while (this.index < this.length) {\n                var ch = this.text.charAt(this.index);\n                if (ch == '<') {\n                    if (this.expect('<!--')) {\n                        var comment = this.readComment();\n                        comment.parentNode = parent;\n                        parent.childNodes.push(comment);\n                    } else if (TEST_TAG_REG.test(this.later())) {\n                        var tag = this.readTag();\n\n                        if (tag.closeTag && !tag.beginTag) {\n                            var beginTag = this.nodeTree.pop();\n                            if (!beginTag) {\n                                throw xmlParseMinErr('lexer', '文档第{0}行第{1}位`<{2}>`标签错误，未开始的标签不闭合！', this.rowIndex, tag.startIndex - this.rowCharIndex, tag.tagName);\n                            }\n                            if (beginTag != tag.tagName) {\n                                throw xmlParseMinErr('lexer', '文档第{0}行第{1}位标签`<{2}>`未匹配正确的开始标签！', this.rowIndex, tag.startIndex - this.rowCharIndex, tag.tagName);\n                            } else {\n                                parent = parent.parentNode;\n                            }\n                        } else {\n\n                            if (tag.beginTag && tag.closeTag) {\n                                tag.parentNode = parent;\n                                parent.childNodes.push(tag);\n                            } else {\n                                this.nodeTree.push(tag.tagName);\n                                tag.parentNode = parent;\n                                parent.childNodes.push(tag);\n                                if (tag.beginTag) {\n                                    tag.childNodes = [];\n                                    parent = tag;\n                                    if (/^(script|style)$/i.test(tag.tagName)) {\n                                        var ele = this.readScriptOrStyle(tag.tagName);\n                                        if (ele) {\n                                            tag.childNodes.push(ele);\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    } else {\n                        parent.childNodes.push(this.readText());\n                    }\n                } else {\n                    parent.childNodes.push(this.readText());\n                }\n            }\n            if (this.nodeTree.length) {\n                throw xmlParseMinErr('fragment', '文档结尾`<{0}>`标签未闭合！', this.nodeTree.join('`>,<`'));\n            }\n            return fragment;\n        }\n    }, {\n        key: 'readScriptOrStyle',\n        value: function readScriptOrStyle(tagName) {\n            var startIndex = this.index;\n            var startRowIndex = this.rowIndex;\n            var later = this.later();\n            var endIndex = later.search(new RegExp('</' + tagName + '(.|[\\\\n\\\\t\\\\r\\\\v\\\\s])*>'));\n            if (endIndex == -1) {\n                throw xmlParseMinErr('readScriptOrStyle', '第{0}行第{1}位的{2}标签未关闭！', this.rowIndex, this.index - this.rowCharIndex, tagName.toLowerCase());\n            }\n            var text = later.substring(0, endIndex);\n            var rowSize = text.match(/\\r\\n|\\r|\\n/g);\n            if (rowSize) {\n                this.rowIndex += rowSize.length;\n            }\n            this.index += endIndex;\n            return {\n                startIndex: startIndex,\n                endIndex: this.index,\n                startRowIndex: startRowIndex,\n                endRowIndex: this.rowIndex,\n                nodeType: _variables.NODE_TYPE_TEXT,\n                text: text\n            };\n        }\n    }, {\n        key: 'readComment',\n        value: function readComment() {\n            var startIndex = this.index;\n            var startRowIndex = this.rowIndex;\n            this.index += 4;\n            var later = this.later();\n            var endIndex = later.indexOf('-->');\n            if (endIndex == -1) {\n                endIndex = later.length;\n            }\n            var text = later.substring(0, endIndex);\n            var rowSize = text.match(/\\r\\n|\\r|\\n/g);\n            if (rowSize) {\n                this.rowIndex += rowSize.length;\n            }\n            this.index = this.index + endIndex;\n            if (this.peek()) {\n                this.index += 3;\n            }\n            return {\n                startIndex: startIndex,\n                endIndex: this.index,\n                startRowIndex: startRowIndex,\n                endRowIndex: this.rowIndex,\n                nodeType: _variables.NODE_TYPE_COMMENT,\n                text: text\n            };\n        }\n    }, {\n        key: 'readText',\n        value: function readText() {\n            var startRowIndex = this.rowIndex;\n            var startIndex = this.index;\n            var text = '';\n            while (this.index < this.length) {\n                var ch = this.text.charAt(this.index);\n                if (this.isEmpty(ch)) {\n                    text += this.ignoreEmpty();\n                } else if (ch != '<') {\n                    text += ch;\n                    this.index++;\n                } else {\n                    break;\n                }\n            }\n            return {\n                startRowIndex: startRowIndex,\n                endRowIndex: this.rowIndex,\n                startIndex: startIndex,\n                endIndex: this.index,\n                nodeType: _variables.NODE_TYPE_TEXT,\n                text: text\n            };\n        }\n    }, {\n        key: 'readTag',\n        value: function readTag() {\n            var startRowIndex = this.rowIndex;\n            var startIndex = this.index;\n            var tagName = '';\n            var propertis = void 0;\n            var ch = void 0;\n            this.index++;\n            while (this.index < this.length) {\n                ch = this.text.charAt(this.index);\n\n                if (!this.isEmpty(ch)) {\n                    if (ch == '>' || ch == '/' && this.peek() == '>') {\n                        break;\n                    }\n                    tagName += ch;\n                    this.index++;\n                } else {\n                    propertis = this.readProperty();\n                }\n            }\n            var tag = {\n                startRowIndex: startRowIndex,\n                endRowIndex: this.rowIndex,\n                startIndex: startIndex,\n                endIndex: this.index,\n                nodeType: _variables.NODE_TYPE_ELEMENT,\n                tagName: tagName,\n                propertis: propertis || []\n            };\n            if (ch == '/') {\n                this.index += 2;\n                tag.endIndex += 2;\n                tag.beginTag = true;\n                tag.closeTag = true;\n            } else if (ch == '>') {\n                if (_public.isOddTag.test(tag.tagName)) {\n                    tag.closeTag = true;\n                    tag.beginTag = true;\n                } else if (tagName.charAt(0) == '/') {\n                    tag.closeTag = true;\n                    tag.tagName = tagName.substring(1, tagName.length);\n                } else {\n                    tag.beginTag = true;\n                }\n                this.index++;\n                tag.endIndex++;\n            } else {\n                throw xmlParseMinErr('regTag', '文档第{0}行第{1}位标签未正确关闭！', this.rowIndex, this.index - this.rowCharIndex);\n            }\n            return tag;\n        }\n    }, {\n        key: 'readProperty',\n        value: function readProperty() {\n            var propertis = [];\n            while (this.index < this.length) {\n                this.ignoreEmpty();\n                var startRowIndex = this.rowIndex;\n                var startIndex = this.index;\n                var ch = this.text.charAt(this.index);\n                if (ch == '>' || ch == '/' && this.peek() == '>') {\n                    break;\n                }\n                var property = {\n                    key: this.readPropertyKey()\n                };\n                ch = this.text.charAt(this.index);\n                if (ch == '=') {\n                    if (!this.isEmpty(this.peek())) {\n                        property.value = this.readPropertyValue();\n                    }\n                }\n                property.startRowIndex = startRowIndex;\n                property.endRowIndex = this.rowIndex;\n                property.startIndex = startIndex;\n                property.endIndex = this.index;\n                propertis.push(property);\n            }\n            return propertis;\n        }\n    }, {\n        key: 'readPropertyKey',\n        value: function readPropertyKey() {\n            var key = '';\n            while (this.index < this.length) {\n                var ch = this.text.charAt(this.index);\n                if (!this.isEmpty(ch) && ch != '=' && ch != '>') {\n                    if (ch == '/' && this.peek() == '>') {\n                        break;\n                    }\n                    key += ch;\n                    this.index++;\n                } else {\n                    break;\n                }\n            }\n            return key;\n        }\n    }, {\n        key: 'readPropertyValue',\n        value: function readPropertyValue() {\n            var value = '';\n            var escape = false;\n            var quote = this.peek();\n            if (quote == '\"' || quote == \"'\") {\n                this.index++;\n            }\n            this.index++;\n            while (this.index < this.length) {\n                var ch = this.text.charAt(this.index);\n                if (quote != '\"' && quote != \"'\" && this.isEmpty(ch)) {\n                    return value;\n                }\n                if (escape) {\n                    if (ch === 'u') {\n                        var hexCode = this.text.substring(this.index + 1, this.index + 5);\n                        if (/[\\da-f]{4}/i.test(hexCode)) {\n                            value += String.fromCharCode(parseInt(hexCode, 16));\n                            this.index += 4;\n                        } else {\n                            throw xmlParseMinErr('readPropertyValue', '转义\\\\{0}失败，或者\\\\{0}不是一个合法的nuicode字符', hexCode);\n                        }\n                    } else {\n                        this.index--;\n                        value += this.ignoreEmpty();\n                    }\n                    escape = false;\n                } else if (ch == '\\\\') {\n                    escape = true;\n                } else if (ch == quote && ch == '\"' || ch == \"'\") {\n                    this.index++;\n                    return value;\n                } else {\n                    value += ch;\n                }\n                this.index++;\n            }\n        }\n    }, {\n        key: 'later',\n        value: function later() {\n            return this.text.slice(this.index, this.length);\n        }\n    }, {\n        key: 'expect',\n        value: function expect(text) {\n            var entIndex = this.index + text.length;\n            return entIndex <= this.length ? text === this.text.slice(this.index, entIndex) : false;\n        }\n    }, {\n        key: 'isEmpty',\n        value: function isEmpty(text) {\n            return typeof text !== 'string' || text === ' ' || text === '\\n' || text === '\\r' || text === '\\t' || text === '\\v' || text === ' ';\n        }\n    }, {\n        key: 'ignoreEmpty',\n        value: function ignoreEmpty() {\n            var empty = '';\n            while (this.index < this.length) {\n                var ch = this.text.charAt(this.index);\n\n                if (!this.isEmpty(ch)) {\n                    break;\n                }\n                empty += ch;\n                this.index++;\n\n                if (ch == '\\r') {\n                    // Mac OS\n                    if (this.peek() == '\\n') {\n                        // linux,unix\n                        this.index++;\n                    }\n                    this.rowIndex++;\n                    this.rowCharIndex = this.index;\n                } else if (ch == '\\n') {\n                    // windows\n                    this.rowIndex++;\n                    this.rowCharIndex = this.index;\n                }\n            }\n            return empty;\n        }\n    }, {\n        key: 'peek',\n        value: function peek() {\n            var index = this.index + 1;\n            return index < this.length ? this.text.charAt(index) : false;\n        }\n    }]);\n\n    return XmlAst;\n}();\n\nexports.default = XmlAst;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kdWxlcy94bWxBc3QuanM/ZjMxMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7O0FBQ0E7O0FBUUE7Ozs7OztBQUtBLElBQU0saUJBQWlCLHFCQUFPLFFBQVAsQ0FBdkI7O0lBRXFCLE07Ozs7Ozs7NEJBQ2IsSSxFQUFNO0FBQ04saUJBQUssSUFBTCxHQUFZLElBQVo7QUFDQSxpQkFBSyxNQUFMLEdBQWMsS0FBSyxNQUFuQjtBQUNBLGlCQUFLLEtBQUwsR0FBYSxDQUFiO0FBQ0EsaUJBQUssUUFBTCxHQUFnQixDQUFoQjtBQUNBLGlCQUFLLFlBQUwsR0FBb0IsQ0FBcEI7QUFDQSxpQkFBSyxRQUFMLEdBQWdCLEVBQWhCO0FBQ0EsbUJBQU8sS0FBSyxRQUFMLEVBQVA7QUFDSDs7O21DQUNVO0FBQ1AsZ0JBQU0sbUJBQW1CLG1CQUF6QjtBQUNBLGdCQUFNLDZCQUE2Qiw0QkFBbkM7QUFDQSxnQkFBTSxpQ0FBaUMsaUNBQXZDO0FBQ0EsZ0JBQU0sMkJBQTJCLG1CQUFtQixHQUFuQixHQUF5QiwwQkFBekIsR0FBc0QsS0FBdEQsR0FBOEQsOEJBQTlELEdBQStGLElBQWhJOztBQUlBLGdCQUFNLGVBQWUsSUFBSSxNQUFKLENBQVcsT0FBTywwQkFBUCxHQUFvQyxnQkFBcEMsR0FBdUQsU0FBdkQsR0FBbUUsMEJBQW5FLEdBQWdHLEtBQWhHLEdBQXdHLHdCQUF4RyxHQUFtSSxJQUFuSSxHQUEwSSxnQkFBMUksR0FBNkosVUFBN0osR0FBMEssMEJBQTFLLEdBQXVNLGdCQUF2TSxHQUEwTixJQUFyTyxDQUFyQjs7QUFJQSxnQkFBTSxXQUFXO0FBQ2IsK0RBRGE7QUFFYiw0QkFBWTtBQUZDLGFBQWpCO0FBSUEsaUJBQUssV0FBTDs7QUFFQSxnQkFBSSxTQUFTLFFBQWI7QUFDQSxtQkFBTyxLQUFLLEtBQUwsR0FBYSxLQUFLLE1BQXpCLEVBQWlDO0FBQzdCLG9CQUFJLEtBQUssS0FBSyxJQUFMLENBQVUs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QUFlLElBQW5CLEVBQXlCO0FBQUU7QUFDdkIsNkJBQUssS0FBTDtBQUNIO0FBQ0QseUJBQUssUUFBTDtBQUNBLHlCQUFLLFlBQUwsR0FBb0IsS0FBSyxLQUF6QjtBQUNILGlCQU5ELE1BTU8sSUFBSSxNQUFNLElBQVYsRUFBZ0I7QUFBRTtBQUNyQix5QkFBSyxRQUFMO0FBQ0EseUJBQUssWUFBTCxHQUFvQixLQUFLLEtBQXpCO0FBQ0g7QUFDSjtBQUNELG1CQUFPLEtBQVA7QUFDSDs7OytCQUNNO0FBQ0gsZ0JBQU0sUUFBUSxLQUFLLEtBQUwsR0FBYSxDQUEzQjtBQUNBLG1CQUFPLFFBQVEsS0FBSyxNQUFiLEdBQXNCLEtBQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsS0FBakIsQ0FBdEIsR0FBZ0QsS0FBdkQ7QUFDSDs7Ozs7O2tCQXRVZ0IsTSIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1pbkVyciBmcm9tICcuL2Vycm9yJztcbmltcG9ydCB7XG4gICAgTk9ERV9UWVBFX0VMRU1FTlQsXG4gICAgTk9ERV9UWVBFX1RFWFQsXG4gICAgTk9ERV9UWVBFX0NPTU1FTlQsXG4gICAgTk9ERV9UWVBFX0RPQ1VNRU5ULFxuICAgIE5PREVfVFlQRV9ET0NVTUVOVEZSQUdNRU5ULFxufVxuZnJvbSAnLi92YXJpYWJsZXMnO1xuaW1wb3J0IHtcbiAgICBpc09kZFRhZ1xufVxuZnJvbSAnLi9wdWJsaWMnO1xuXG5jb25zdCB4bWxQYXJzZU1pbkVyciA9IG1pbkVycignWG1sQXN0Jyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFhtbEFzdCB7XG4gICAgYXN0KHRleHQpIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5sZW5ndGggPSB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHRoaXMucm93SW5kZXggPSAwO1xuICAgICAgICB0aGlzLnJvd0NoYXJJbmRleCA9IDA7XG4gICAgICAgIHRoaXMubm9kZVRyZWUgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJhZ21lbnQoKTtcbiAgICB9XG4gICAgZnJhZ21lbnQoKSB7XG4gICAgICAgIGNvbnN0IEVNUFRZX1JFR19TVFJJTkcgPSAnW1xcXFxuXFxcXHRcXFxcclxcXFx2XFxcXHNdJztcbiAgICAgICAgY29uc3QgVEFHX09SX1BST1BFUlRZX1JFR19TVFJJTkcgPSAnW15cXFxcXFxcXC88PlxcXFxuXFxcXHRcXFxcclxcXFx2XFxcXHNdKyc7XG4gICAgICAgIGNvbnN0IFRBR19BVFRSSUJVVEVfVkFMVUVfUkVHX1NUUklORyA9ICc9XCJbXlwiXSpcInw9XFwnW15cXCddKlxcJ3w9W15cXFxccz48XSsnO1xuICAgICAgICBjb25zdCBUQUdfQVRUUklCVVRFX1JFR19TVFJJTkcgPSBFTVBUWV9SRUdfU1RSSU5HICsgJysnICsgVEFHX09SX1BST1BFUlRZX1JFR19TVFJJTkcgKyAnKD86JyArIFRBR19BVFRSSUJVVEVfVkFMVUVfUkVHX1NUUklORyArICcpPyc7XG5cblxuXG4gICAgICAgIGNvbnN0IFRFU1RfVEFHX1JFRyA9IG5ldyBSZWdFeHAoJ148JyArIFRBR19PUl9QUk9QRVJUWV9SRUdfU1RSSU5HICsgRU1QVFlfUkVHX1NUUklORyArICcqLz8+fF48JyArIFRBR19PUl9QUk9QRVJUWV9SRUdfU1RSSU5HICsgJyg/OicgKyBUQUdfQVRUUklCVVRFX1JFR19TVFJJTkcgKyAnKSsnICsgRU1QVFlfUkVHX1NUUklORyArICcqLz8+fF48LycgKyBUQUdfT1JfUFJPUEVSVFlfUkVHX1NUUklORyArIEVNUFRZX1JFR19TVFJJTkcgKyAnKj4nKTtcblxuXG5cbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSB7XG4gICAgICAgICAgICBub2RlVHlwZTogTk9ERV9UWVBFX0RPQ1VNRU5URlJBR01FTlQsXG4gICAgICAgICAgICBjaGlsZE5vZGVzOiBbXVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlnbm9yZUVtcHR5KCk7XG5cbiAgICAgICAgbGV0IHBhcmVudCA9IGZyYWdtZW50O1xuICAgICAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgY2ggPSB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpO1xuICAgICAgICAgICAgaWYgKGNoID09ICc8Jykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmV4cGVjdCgnPCEtLScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb21tZW50ID0gdGhpcy5yZWFkQ29tbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICBjb21tZW50LnBhcmVudE5vZGUgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5jaGlsZE5vZGVzLnB1c2goY29tbWVudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChURVNUX1RBR19SRUcudGVzdCh0aGlzLmxhdGVyKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0YWcgPSB0aGlzLnJlYWRUYWcoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnLmNsb3NlVGFnICYmICF0YWcuYmVnaW5UYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiZWdpblRhZyA9IHRoaXMubm9kZVRyZWUucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWJlZ2luVGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgeG1sUGFyc2VNaW5FcnIoJ2xleGVyJywgJ+aWh+aho+esrHswfeihjOesrHsxfeS9jWA8ezJ9PmDmoIfnrb7plJnor6/vvIzmnKrlvIDlp4vnmoTmoIfnrb7kuI3pl63lkIjvvIEnLCB0aGlzLnJvd0luZGV4LCB0YWcuc3RhcnRJbmRleCAtIHRoaXMucm93Q2hhckluZGV4LCB0YWcudGFnTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmVnaW5UYWcgIT0gdGFnLnRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyB4bWxQYXJzZU1pbkVycignbGV4ZXInLCAn5paH5qGj56ysezB96KGM56ysezF95L2N5qCH562+YDx7Mn0+YOacquWMuemFjeato+ehrueahOW8gOWni+agh+etvu+8gScsIHRoaXMucm93SW5kZXgsIHRhZy5zdGFydEluZGV4IC0gdGhpcy5yb3dDaGFySW5kZXgsIHRhZy50YWdOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWcuYmVnaW5UYWcgJiYgdGFnLmNsb3NlVGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnLnBhcmVudE5vZGUgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LmNoaWxkTm9kZXMucHVzaCh0YWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGVUcmVlLnB1c2godGFnLnRhZ05hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZy5wYXJlbnROb2RlID0gcGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5jaGlsZE5vZGVzLnB1c2godGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFnLmJlZ2luVGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZy5jaGlsZE5vZGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IHRhZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eKHNjcmlwdHxzdHlsZSkkL2kudGVzdCh0YWcudGFnTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbGUgPSB0aGlzLnJlYWRTY3JpcHRPclN0eWxlKHRhZy50YWdOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWcuY2hpbGROb2Rlcy5wdXNoKGVsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnQuY2hpbGROb2Rlcy5wdXNoKHRoaXMucmVhZFRleHQoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuY2hpbGROb2Rlcy5wdXNoKHRoaXMucmVhZFRleHQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubm9kZVRyZWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyB4bWxQYXJzZU1pbkVycignZnJhZ21lbnQnLCAn5paH5qGj57uT5bC+YDx7MH0+YOagh+etvuacqumXreWQiO+8gScsIHRoaXMubm9kZVRyZWUuam9pbignYD4sPGAnKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyYWdtZW50O1xuICAgIH1cbiAgICByZWFkU2NyaXB0T3JTdHlsZSh0YWdOYW1lKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgICBjb25zdCBzdGFydFJvd0luZGV4ID0gdGhpcy5yb3dJbmRleDtcbiAgICAgICAgY29uc3QgbGF0ZXIgPSB0aGlzLmxhdGVyKCk7XG4gICAgICAgIGNvbnN0IGVuZEluZGV4ID0gbGF0ZXIuc2VhcmNoKG5ldyBSZWdFeHAoJzwvJyArIHRhZ05hbWUgKyAnKC58W1xcXFxuXFxcXHRcXFxcclxcXFx2XFxcXHNdKSo+JykpO1xuICAgICAgICBpZiAoZW5kSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IHhtbFBhcnNlTWluRXJyKCdyZWFkU2NyaXB0T3JTdHlsZScsICfnrKx7MH3ooYznrKx7MX3kvY3nmoR7Mn3moIfnrb7mnKrlhbPpl63vvIEnLCB0aGlzLnJvd0luZGV4LCB0aGlzLmluZGV4IC0gdGhpcy5yb3dDaGFySW5kZXgsIHRhZ05hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGV4dCA9IGxhdGVyLnN1YnN0cmluZygwLCBlbmRJbmRleCk7XG4gICAgICAgIGNvbnN0IHJvd1NpemUgPSB0ZXh0Lm1hdGNoKC9cXHJcXG58XFxyfFxcbi9nKTtcbiAgICAgICAgaWYgKHJvd1NpemUpIHtcbiAgICAgICAgICAgIHRoaXMucm93SW5kZXggKz0gcm93U2l6ZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbmRleCArPSBlbmRJbmRleDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0SW5kZXg6IHN0YXJ0SW5kZXgsXG4gICAgICAgICAgICBlbmRJbmRleDogdGhpcy5pbmRleCxcbiAgICAgICAgICAgIHN0YXJ0Um93SW5kZXg6IHN0YXJ0Um93SW5kZXgsXG4gICAgICAgICAgICBlbmRSb3dJbmRleDogdGhpcy5yb3dJbmRleCxcbiAgICAgICAgICAgIG5vZGVUeXBlOiBOT0RFX1RZUEVfVEVYVCxcbiAgICAgICAgICAgIHRleHQ6IHRleHRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmVhZENvbW1lbnQoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgICBjb25zdCBzdGFydFJvd0luZGV4ID0gdGhpcy5yb3dJbmRleDtcbiAgICAgICAgdGhpcy5pbmRleCArPSA0O1xuICAgICAgICBjb25zdCBsYXRlciA9IHRoaXMubGF0ZXIoKTtcbiAgICAgICAgbGV0IGVuZEluZGV4ID0gbGF0ZXIuaW5kZXhPZignLS0+Jyk7XG4gICAgICAgIGlmIChlbmRJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgZW5kSW5kZXggPSBsYXRlci5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGV4dCA9IGxhdGVyLnN1YnN0cmluZygwLCBlbmRJbmRleCk7XG4gICAgICAgIGNvbnN0IHJvd1NpemUgPSB0ZXh0Lm1hdGNoKC9cXHJcXG58XFxyfFxcbi9nKTtcbiAgICAgICAgaWYgKHJvd1NpemUpIHtcbiAgICAgICAgICAgIHRoaXMucm93SW5kZXggKz0gcm93U2l6ZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbmRleCA9IHRoaXMuaW5kZXggKyBlbmRJbmRleDtcbiAgICAgICAgaWYgKHRoaXMucGVlaygpKSB7XG4gICAgICAgICAgICB0aGlzLmluZGV4ICs9IDM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0SW5kZXg6IHN0YXJ0SW5kZXgsXG4gICAgICAgICAgICBlbmRJbmRleDogdGhpcy5pbmRleCxcbiAgICAgICAgICAgIHN0YXJ0Um93SW5kZXg6IHN0YXJ0Um93SW5kZXgsXG4gICAgICAgICAgICBlbmRSb3dJbmRleDogdGhpcy5yb3dJbmRleCxcbiAgICAgICAgICAgIG5vZGVUeXBlOiBOT0RFX1RZUEVfQ09NTUVOVCxcbiAgICAgICAgICAgIHRleHQ6IHRleHRcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWFkVGV4dCgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRSb3dJbmRleCA9IHRoaXMucm93SW5kZXg7XG4gICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgICBsZXQgdGV4dCA9ICcnO1xuICAgICAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgY2ggPSB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNFbXB0eShjaCkpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ICs9IHRoaXMuaWdub3JlRW1wdHkoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggIT0gJzwnKSB7XG4gICAgICAgICAgICAgICAgdGV4dCArPSBjaDtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGFydFJvd0luZGV4OiBzdGFydFJvd0luZGV4LFxuICAgICAgICAgICAgZW5kUm93SW5kZXg6IHRoaXMucm93SW5kZXgsXG4gICAgICAgICAgICBzdGFydEluZGV4OiBzdGFydEluZGV4LFxuICAgICAgICAgICAgZW5kSW5kZXg6IHRoaXMuaW5kZXgsXG4gICAgICAgICAgICBub2RlVHlwZTogTk9ERV9UWVBFX1RFWFQsXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVhZFRhZygpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRSb3dJbmRleCA9IHRoaXMucm93SW5kZXg7XG4gICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgICBsZXQgdGFnTmFtZSA9ICcnO1xuICAgICAgICBsZXQgcHJvcGVydGlzO1xuICAgICAgICBsZXQgY2g7XG4gICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2ggPSB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNFbXB0eShjaCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2ggPT0gJz4nIHx8IGNoID09ICcvJyAmJiB0aGlzLnBlZWsoKSA9PSAnPicpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhZ05hbWUgKz0gY2g7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleCsrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aXMgPSB0aGlzLnJlYWRQcm9wZXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCB0YWcgPSB7XG4gICAgICAgICAgICBzdGFydFJvd0luZGV4OiBzdGFydFJvd0luZGV4LFxuICAgICAgICAgICAgZW5kUm93SW5kZXg6IHRoaXMucm93SW5kZXgsXG4gICAgICAgICAgICBzdGFydEluZGV4OiBzdGFydEluZGV4LFxuICAgICAgICAgICAgZW5kSW5kZXg6IHRoaXMuaW5kZXgsXG4gICAgICAgICAgICBub2RlVHlwZTogTk9ERV9UWVBFX0VMRU1FTlQsXG4gICAgICAgICAgICB0YWdOYW1lOiB0YWdOYW1lLFxuICAgICAgICAgICAgcHJvcGVydGlzOiBwcm9wZXJ0aXMgfHwgW11cbiAgICAgICAgfVxuICAgICAgICBpZiAoY2ggPT0gJy8nKSB7XG4gICAgICAgICAgICB0aGlzLmluZGV4ICs9IDI7XG4gICAgICAgICAgICB0YWcuZW5kSW5kZXggKz0gMjtcbiAgICAgICAgICAgIHRhZy5iZWdpblRhZyA9IHRydWU7XG4gICAgICAgICAgICB0YWcuY2xvc2VUYWcgPSB0cnVlO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gJz4nKSB7XG4gICAgICAgICAgICBpZiAoaXNPZGRUYWcudGVzdCh0YWcudGFnTmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0YWcuY2xvc2VUYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRhZy5iZWdpblRhZyA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRhZ05hbWUuY2hhckF0KDApID09ICcvJykge1xuICAgICAgICAgICAgICAgIHRhZy5jbG9zZVRhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGFnLnRhZ05hbWUgPSB0YWdOYW1lLnN1YnN0cmluZygxLCB0YWdOYW1lLmxlbmd0aCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhZy5iZWdpblRhZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICAgICAgICB0YWcuZW5kSW5kZXgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IHhtbFBhcnNlTWluRXJyKCdyZWdUYWcnLCAn5paH5qGj56ysezB96KGM56ysezF95L2N5qCH562+5pyq5q2j56Gu5YWz6Zet77yBJywgdGhpcy5yb3dJbmRleCwgdGhpcy5pbmRleCAtIHRoaXMucm93Q2hhckluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFnO1xuICAgIH1cbiAgICByZWFkUHJvcGVydHkoKSB7XG4gICAgICAgIGxldCBwcm9wZXJ0aXMgPSBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5pZ25vcmVFbXB0eSgpO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRSb3dJbmRleCA9IHRoaXMucm93SW5kZXg7XG4gICAgICAgICAgICBjb25zdCBzdGFydEluZGV4ID0gdGhpcy5pbmRleDtcbiAgICAgICAgICAgIGxldCBjaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7XG4gICAgICAgICAgICBpZiAoY2ggPT0gJz4nIHx8IGNoID09ICcvJyAmJiB0aGlzLnBlZWsoKSA9PSAnPicpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwcm9wZXJ0eSA9IHtcbiAgICAgICAgICAgICAgICBrZXk6IHRoaXMucmVhZFByb3BlcnR5S2V5KClcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7XG4gICAgICAgICAgICBpZiAoY2ggPT0gJz0nKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRW1wdHkodGhpcy5wZWVrKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnZhbHVlID0gdGhpcy5yZWFkUHJvcGVydHlWYWx1ZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvcGVydHkuc3RhcnRSb3dJbmRleCA9IHN0YXJ0Um93SW5kZXg7XG4gICAgICAgICAgICBwcm9wZXJ0eS5lbmRSb3dJbmRleCA9IHRoaXMucm93SW5kZXg7XG4gICAgICAgICAgICBwcm9wZXJ0eS5zdGFydEluZGV4ID0gc3RhcnRJbmRleDtcbiAgICAgICAgICAgIHByb3BlcnR5LmVuZEluZGV4ID0gdGhpcy5pbmRleDtcbiAgICAgICAgICAgIHByb3BlcnRpcy5wdXNoKHByb3BlcnR5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvcGVydGlzO1xuICAgIH1cbiAgICByZWFkUHJvcGVydHlLZXkoKSB7XG4gICAgICAgIGxldCBrZXkgPSAnJztcbiAgICAgICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGNoID0gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0VtcHR5KGNoKSAmJiBjaCAhPSAnPScgJiYgY2ggIT0gJz4nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoID09ICcvJyAmJiB0aGlzLnBlZWsoKSA9PSAnPicpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGtleSArPSBjaDtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICAgIHJlYWRQcm9wZXJ0eVZhbHVlKCkge1xuICAgICAgICBsZXQgdmFsdWUgPSAnJztcbiAgICAgICAgbGV0IGVzY2FwZSA9IGZhbHNlO1xuICAgICAgICBsZXQgcXVvdGUgPSB0aGlzLnBlZWsoKTtcbiAgICAgICAgaWYgKHF1b3RlID09ICdcIicgfHwgcXVvdGUgPT0gXCInXCIpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBjaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7XG4gICAgICAgICAgICBpZiAocXVvdGUgIT0gJ1wiJyAmJiBxdW90ZSAhPSBcIidcIiAmJiB0aGlzLmlzRW1wdHkoY2gpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVzY2FwZSkge1xuICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ3UnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBoZXhDb2RlID0gdGhpcy50ZXh0LnN1YnN0cmluZyh0aGlzLmluZGV4ICsgMSwgdGhpcy5pbmRleCArIDUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoL1tcXGRhLWZdezR9L2kudGVzdChoZXhDb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChoZXhDb2RlLCAxNikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleCArPSA0O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgeG1sUGFyc2VNaW5FcnIoJ3JlYWRQcm9wZXJ0eVZhbHVlJywgJ+i9rOS5iVxcXFx7MH3lpLHotKXvvIzmiJbogIVcXFxcezB95LiN5piv5LiA5Liq5ZCI5rOV55qEbnVpY29kZeWtl+espicsIGhleENvZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleC0tO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSB0aGlzLmlnbm9yZUVtcHR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVzY2FwZSA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaCA9PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICBlc2NhcGUgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaCA9PSBxdW90ZSAmJiBjaCA9PSAnXCInIHx8IGNoID09IFwiJ1wiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleCsrO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gY2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGF0ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQuc2xpY2UodGhpcy5pbmRleCwgdGhpcy5sZW5ndGgpO1xuICAgIH1cbiAgICBleHBlY3QodGV4dCkge1xuICAgICAgICBjb25zdCBlbnRJbmRleCA9IHRoaXMuaW5kZXggKyB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIGVudEluZGV4IDw9IHRoaXMubGVuZ3RoID8gdGV4dCA9PT0gdGhpcy50ZXh0LnNsaWNlKHRoaXMuaW5kZXgsIGVudEluZGV4KSA6IGZhbHNlO1xuICAgIH1cbiAgICBpc0VtcHR5KHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJyB8fCB0ZXh0ID09PSAnICcgfHwgdGV4dCA9PT0gJ1xcbicgfHwgdGV4dCA9PT0gJ1xccicgfHwgdGV4dCA9PT0gJ1xcdCcgfHwgdGV4dCA9PT0gJ1xcdicgfHwgdGV4dCA9PT0gJ1xcdTAwYTAnO1xuICAgIH1cbiAgICBpZ25vcmVFbXB0eSgpIHtcbiAgICAgICAgbGV0IGVtcHR5ID0gJyc7XG4gICAgICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBjaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5pc0VtcHR5KGNoKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW1wdHkgKz0gY2g7XG4gICAgICAgICAgICB0aGlzLmluZGV4Kys7XG5cbiAgICAgICAgICAgIGlmIChjaCA9PSAnXFxyJykgeyAvLyBNYWMgT1NcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrKCkgPT0gJ1xcbicpIHsgLy8gbGludXgsdW5peFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucm93SW5kZXgrKztcbiAgICAgICAgICAgICAgICB0aGlzLnJvd0NoYXJJbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09ICdcXG4nKSB7IC8vIHdpbmRvd3NcbiAgICAgICAgICAgICAgICB0aGlzLnJvd0luZGV4Kys7XG4gICAgICAgICAgICAgICAgdGhpcy5yb3dDaGFySW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9XG4gICAgcGVlaygpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmluZGV4ICsgMTtcbiAgICAgICAgcmV0dXJuIGluZGV4IDwgdGhpcy5sZW5ndGggPyB0aGlzLnRleHQuY2hhckF0KGluZGV4KSA6IGZhbHNlO1xuICAgIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2pzL21vZHVsZXMveG1sQXN0LmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 4 */
/***/ function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar NODE_TYPE_ELEMENT = 1;\nvar NODE_TYPE_TEXT = 3;\nvar NODE_TYPE_COMMENT = 8;\nvar NODE_TYPE_DOCUMENT = 9;\nvar NODE_TYPE_DOCUMENTFRAGMENT = 11;\n\nexports.NODE_TYPE_ELEMENT = NODE_TYPE_ELEMENT;\nexports.NODE_TYPE_TEXT = NODE_TYPE_TEXT;\nexports.NODE_TYPE_COMMENT = NODE_TYPE_COMMENT;\nexports.NODE_TYPE_DOCUMENT = NODE_TYPE_DOCUMENT;\nexports.NODE_TYPE_DOCUMENTFRAGMENT = NODE_TYPE_DOCUMENTFRAGMENT;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kdWxlcy92YXJpYWJsZXMuanM/MDJkMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQU0sb0JBQW9CLENBQTFCO0FBQ0EsSUFBTSxpQkFBaUIsQ0FBdkI7QUFDQSxJQUFNLG9CQUFvQixDQUExQjtBQUNBLElBQU0scUJBQXFCLENBQTNCO0FBQ0EsSUFBTSw2QkFBNkIsRUFBbkM7O1FBR0ksaUIsR0FBQSxpQjtRQUNBLGMsR0FBQSxjO1FBQ0EsaUIsR0FBQSxpQjtRQUNBLGtCLEdBQUEsa0I7UUFDQSwwQixHQUFBLDBCIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBOT0RFX1RZUEVfRUxFTUVOVCA9IDE7XG5jb25zdCBOT0RFX1RZUEVfVEVYVCA9IDM7XG5jb25zdCBOT0RFX1RZUEVfQ09NTUVOVCA9IDg7XG5jb25zdCBOT0RFX1RZUEVfRE9DVU1FTlQgPSA5O1xuY29uc3QgTk9ERV9UWVBFX0RPQ1VNRU5URlJBR01FTlQgPSAxMTtcblxuZXhwb3J0IHtcbiAgICBOT0RFX1RZUEVfRUxFTUVOVCxcbiAgICBOT0RFX1RZUEVfVEVYVCxcbiAgICBOT0RFX1RZUEVfQ09NTUVOVCxcbiAgICBOT0RFX1RZUEVfRE9DVU1FTlQsXG4gICAgTk9ERV9UWVBFX0RPQ1VNRU5URlJBR01FTlRcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2pzL21vZHVsZXMvdmFyaWFibGVzLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 5 */
/***/ function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction noop() {}\n\nfunction isType(type) {\n    return function (obj) {\n        return {}.toString.call(obj) == '[object ' + type + ']';\n    };\n};\nvar isObject = isType('Object');\nvar isString = isType('String');\nvar isArray = Array.isArray || isType('Array');\nvar isFunction = isType('Function');\nvar isUndefined = isType('Undefined');\nvar isNumber = function isNumber(val) {\n    return typeof val === 'number';\n};\nvar ODD_TAG_LIST = ['img', 'input', 'br', 'hr', 'param', 'meta', 'link'];\nvar isOddTag = new RegExp('^' + ODD_TAG_LIST.join('|') + '$');\n\nfunction isEmpty(str) {\n    return (/^[\\s\\t\\n\\r\\v]$/gm.test(str)\n    );\n}\n\nfunction trim(str) {\n    return str.replace(/^\\s+|\\s+$/g, '');\n}\n\nfunction forEach(arr, fn) {\n    for (var i = 0, len = arr.length; i < len; i++) {\n        fn(arr[i]);\n    }\n}\n\nfunction unique(arr) {\n    if (arr.length < 2) {\n        return arr;\n    }\n    var result = [arr[0]];\n    var noRepeat = true;\n    for (var i = 1, len = arr.length; i < len; i++) {\n        for (var j = 0, len2 = result.length; j < len2; j++) {\n            if (result[j] === arr[i]) {\n                noRepeat = false;\n            }\n        }\n        if (noRepeat) {\n            result.push(arr[i]);\n            noRepeat = true;\n        }\n    }\n    return result;\n}\n\nexports.isObject = isObject;\nexports.isString = isString;\nexports.isArray = isArray;\nexports.isFunction = isFunction;\nexports.isUndefined = isUndefined;\nexports.isNumber = isNumber;\nexports.isEmpty = isEmpty;\nexports.trim = trim;\nexports.forEach = forEach;\nexports.unique = unique;\nexports.isOddTag = isOddTag;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kdWxlcy9wdWJsaWMuanM/MTZkYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLFNBQVMsSUFBVCxHQUFnQixDQUFFOztBQUVsQixTQUFTLE1BQVQsQ0FBZ0IsSUFBaEIsRUFBc0I7QUFDbEIsV0FBTyxVQUFVLEdBQVYsRUFBZTtBQUNsQixlQUFPLEdBQUcsUUFBSCxDQUFZLElBQVosQ0FBaUIsR0FBakIsS0FBeUIsYUFBYSxJQUFiLEdBQW9CLEdBQXBEO0FBQ0gsS0FGRDtBQUdIO0FBQ0QsSUFBTSxXQUFXLE9BQU8sUUFBUCxDQUFqQjtBQUNBLElBQU0sV0FBVyxPQUFPLFFBQVAsQ0FBakI7QUFDQSxJQUFNLFVBQVUsTUFBTSxPQUFOLElBQWlCLE9BQU8sT0FBUCxDQUFqQztBQUNBLElBQU0sYUFBYSxPQUFPLFVBQVAsQ0FBbkI7QUFDQSxJQUFNLGNBQWMsT0FBTyxXQUFQLENBQXBCO0FBQ0EsSUFBTSxXQUFXLFNBQVgsUUFBVyxDQUFVLEdBQVYsRUFBZTtBQUM1QixXQUFPLE9BQU8sR0FBUCxLQUFlLFFBQXRCO0FBQ0gsQ0FGRDtBQUdBLElBQU0sZUFBZSxDQUFDLEtBQUQsRUFBUSxPQUFSLEVBQWlCLElBQWpCLEVBQXVCLElBQXZCLEVBQTZCLE9BQTdCLEVBQXNDLE1BQXRDLEVBQThDLE1BQTlDLENBQXJCO0FBQ0EsSUFBTSxXQUFXLElBQUksTUFBSixDQUFXLE1BQU0sYUFBYSxJQUFiLENBQWtCLEdBQWxCLENBQU4sR0FBK0IsR0FBMUMsQ0FBakI7O0FBRUEsU0FBUyxPQUFULENBQWlCLEdBQWpCLEVBQXNCO0FBQ2xCLFdBQU8sb0JBQW1CLElBQW5CLENBQXdCLEdBQXhCO0FBQVA7QUFDSDs7QUFFRCxTQUFTLElBQVQsQ0FBYyxHQUFkLEVBQW1CO0FBQ2YsV0FBTyxJQUFJLE9BQUosQ0FBWSxZQUFaLEVBQTBCLEVBQTFCLENBQVA7QUFDSDs7QUFFRCxTQUFTLE9BQVQsQ0FBaUIsR0FBakIsRUFBc0IsRUFBdEIsRUFBMEI7QUFDdEIsU0FBSyxJQUFJLElBQUksQ0FBUixFQUFXLE1BQU0sSUFBSSxNQUExQixFQUFrQyxJQUFJLEdBQXRDLEVBQTJDLEdBQTNDLEVBQWdEO0FBQzVDLFdBQUcsSUFBSSxDQUFKLENBQUg7QUFDSDtBQUNKOztBQUVELFNBQVMsTUFBVCxDQUFnQixHQUFoQixFQUFxQjtBQUNqQixRQUFJLElBQUksTUFBSixHQUFhLENBQWpCLEVBQW9CO0FBQ2hCLGVBQU8sR0FBUDtBQUNIO0FBQ0QsUUFBSSxTQUFTLENBQUMsSUFBSSxDQUFKLENBQUQsQ0FBYjtBQUNBLFFBQUksV0FBVyxJQUFmO0FBQ0EsU0FBSyxJQUFJLElBQUksQ0FBUixFQUFXLE1BQU0sSUFBSSxNQUExQixFQUFrQyxJQUFJLEdBQXRDLEVBQTJDLEdBQTNDLEVBQWdEO0FBQzVDLGFBQUssSUFBSSxJQUFJLENBQVIsRUFBVyxPQUFPLE9BQU8sTUFBOUIsRUFBc0MsSUFBSSxJQUExQyxFQUFnRCxHQUFoRCxFQUFxRDtBQUNqRCxnQkFBSSxPQUFPLENBQVAsTUFBYyxJQUFJLENBQUosQ0FBbEIsRUFBMEI7QUFDdEIsMkJBQVcsS0FBWDtBQUNIO0FBQ0o7QUFDRCxZQUFJLFFBQUosRUFBYztBQUNWLG1CQUFPLElBQVAsQ0FBWSxJQUFJLENBQUosQ0FBWjtBQUNBLHVCQUFXLElBQVg7QUFDSDtBQUNKO0FBQ0QsV0FBTyxNQUFQO0FBQ0g7O1FBR0csUSxHQUFBLFE7UUFDQSxRLEdBQUEsUTtRQUNBLE8sR0FBQSxPO1FBQ0EsVSxHQUFBLFU7UUFDQSxXLEdBQUEsVztRQUNBLFEsR0FBQSxRO1FBQ0EsTyxHQUFBLE87UUFDQSxJLEdBQUEsSTtRQUNBLE8sR0FBQSxPO1FBQ0EsTSxHQUFBLE07UUFDQSxRLEdBQUEsUSIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmZ1bmN0aW9uIGlzVHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwob2JqKSA9PSAnW29iamVjdCAnICsgdHlwZSArICddJztcbiAgICB9XG59O1xuY29uc3QgaXNPYmplY3QgPSBpc1R5cGUoJ09iamVjdCcpO1xuY29uc3QgaXNTdHJpbmcgPSBpc1R5cGUoJ1N0cmluZycpO1xuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgaXNUeXBlKCdBcnJheScpO1xuY29uc3QgaXNGdW5jdGlvbiA9IGlzVHlwZSgnRnVuY3Rpb24nKTtcbmNvbnN0IGlzVW5kZWZpbmVkID0gaXNUeXBlKCdVbmRlZmluZWQnKTtcbmNvbnN0IGlzTnVtYmVyID0gZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJztcbn07XG5jb25zdCBPRERfVEFHX0xJU1QgPSBbJ2ltZycsICdpbnB1dCcsICdicicsICdocicsICdwYXJhbScsICdtZXRhJywgJ2xpbmsnXTtcbmNvbnN0IGlzT2RkVGFnID0gbmV3IFJlZ0V4cCgnXicgKyBPRERfVEFHX0xJU1Quam9pbignfCcpICsgJyQnKTtcblxuZnVuY3Rpb24gaXNFbXB0eShzdHIpIHtcbiAgICByZXR1cm4gL15bXFxzXFx0XFxuXFxyXFx2XSQvZ20udGVzdChzdHIpO1xufVxuXG5mdW5jdGlvbiB0cmltKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xufVxuXG5mdW5jdGlvbiBmb3JFYWNoKGFyciwgZm4pIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gYXJyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGZuKGFycltpXSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1bmlxdWUoYXJyKSB7XG4gICAgaWYgKGFyci5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSBbYXJyWzBdXTtcbiAgICBsZXQgbm9SZXBlYXQgPSB0cnVlO1xuICAgIGZvciAobGV0IGkgPSAxLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDAsIGxlbjIgPSByZXN1bHQubGVuZ3RoOyBqIDwgbGVuMjsgaisrKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0W2pdID09PSBhcnJbaV0pIHtcbiAgICAgICAgICAgICAgICBub1JlcGVhdCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChub1JlcGVhdCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goYXJyW2ldKTtcbiAgICAgICAgICAgIG5vUmVwZWF0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQge1xuICAgIGlzT2JqZWN0LFxuICAgIGlzU3RyaW5nLFxuICAgIGlzQXJyYXksXG4gICAgaXNGdW5jdGlvbixcbiAgICBpc1VuZGVmaW5lZCxcbiAgICBpc051bWJlcixcbiAgICBpc0VtcHR5LFxuICAgIHRyaW0sXG4gICAgZm9yRWFjaCxcbiAgICB1bmlxdWUsXG4gICAgaXNPZGRUYWdcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2pzL21vZHVsZXMvcHVibGljLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 6 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _public = __webpack_require__(5);\n\nvar _variables = __webpack_require__(4);\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar RootElement = function () {\n    function RootElement() {\n        _classCallCheck(this, RootElement);\n    }\n\n    _createClass(RootElement, [{\n        key: 'getInnerHtml',\n        value: function getInnerHtml() {\n            if (this.innerHTML) {\n                return this.innerHTML;\n            } else if (this.nodeType === _variables.NODE_TYPE_TEXT || this.nodeType === _variables.NODE_TYPE_COMMENT) {\n                return this.textContent;\n            }\n            var innerHTML = '';\n            if (this.childNodes) {\n                for (var i = 0, len = this.childNodes.length; i < len; i++) {\n                    innerHTML += this.childNodes[i].getOuterHtml();\n                }\n            }\n            this.innerHTML = innerHTML;\n            return innerHTML;\n        }\n    }, {\n        key: 'getOuterHtml',\n        value: function getOuterHtml() {\n            if (this.outerHTML) {\n                return this.outerHTML;\n            } else if (this.nodeType === _variables.NODE_TYPE_TEXT) {\n                return this.textContent;\n            } else if (this.nodeType === _variables.NODE_TYPE_COMMENT) {\n                return '<!--' + this.textContent + '-->';\n            }\n\n            var getAttributeHtml = function getAttributeHtml(attributes) {\n                var attrbutesList = [];\n                for (var i = 0, len = attributes.length; i < len; i++) {\n                    var item = attributes[i];\n                    var attr = item.name;\n                    if (attr === 'className') {\n                        attr = 'class';\n                    }\n                    if (item.value !== null && item.value !== undefined) {\n                        if (item.value.indexOf('\"') === -1) {\n                            attr = attr + '=\"' + item.value + '\"';\n                        } else {\n                            attr = attr + \"='\" + item.value + \"'\";\n                        }\n                    }\n                    attrbutesList.push(attr);\n                }\n                return attrbutesList.join(' ');\n            };\n\n            var getChildNodesHtml = function getChildNodesHtml(obj) {\n                var html = '';\n                for (var i = 0, len = obj.childNodes.length; i < len; i++) {\n                    html += obj.childNodes[i].getOuterHtml();\n                }\n                return html;\n            };\n\n            var outerHtml = '';\n            if (this.nodeType === _variables.NODE_TYPE_ELEMENT) {\n                var tagName = this.tagName.toLowerCase();\n                var attrHtml = getAttributeHtml(this.attributes);\n                if (this.childNodes) {\n                    outerHtml = '<' + tagName + (attrHtml ? ' ' + attrHtml : '') + '>' + getChildNodesHtml(this) + '</' + tagName + '>';\n                } else {\n                    outerHtml = '<' + tagName + (attrHtml ? ' ' + attrHtml : '') + (_public.isOddTag.test(tagName) ? '' : '/') + '>';\n                }\n            } else if (this.nodeType === _variables.NODE_TYPE_DOCUMENT) {\n                outerHtml = getChildNodesHtml(this);\n            }\n\n            this.outerHTML = outerHtml;\n            return outerHtml;\n        }\n    }, {\n        key: 'getInnerText',\n        value: function getInnerText() {\n            if (this.nodeType === _variables.NODE_TYPE_TEXT) {\n                return this.textContent;\n            } else if (this.nodeType === _variables.NODE_TYPE_COMMENT) {\n                return;\n            }\n            var text = '';\n            if (this.childNodes) {\n                //单标签没有子级\n                for (var i = 0, len = this.childNodes.length; i < len; i++) {\n                    text += this.childNodes[i].getInnerText() || '';\n                }\n            }\n            this.innerText = text;\n            return text;\n        }\n    }]);\n\n    return RootElement;\n}();\n\nvar ElementEvent = function (_RootElement) {\n    _inherits(ElementEvent, _RootElement);\n\n    function ElementEvent() {\n        _classCallCheck(this, ElementEvent);\n\n        return _possibleConstructorReturn(this, Object.getPrototypeOf(ElementEvent).apply(this, arguments));\n    }\n\n    _createClass(ElementEvent, [{\n        key: 'addEventListener',\n        value: function addEventListener(eventType, fn, useCapture) {\n            useCapture = !!useCapture;\n            eventType = eventType.toLowerCase();\n            if (!(0, _public.isArray)(this.eventListener[eventType])) {\n                this.eventListener[eventType] = [];\n            }\n            this.eventListener[eventType].push({\n                fn: fn,\n                useCapture: useCapture\n            });\n        }\n    }, {\n        key: 'removeEventListener',\n        value: function removeEventListener(eventType, fn) {\n            if ((0, _public.isArray)(this.eventListener[eventType])) {\n                for (var i = 0, len = this.eventListener.length; i < len; i++) {\n                    if (this.eventListener[i].fn === fn) {\n                        this.eventListener.splice(i, 1);\n                        return;\n                    }\n                }\n            }\n        }\n    }]);\n\n    return ElementEvent;\n}(RootElement);\n\nvar Element = function (_ElementEvent) {\n    _inherits(Element, _ElementEvent);\n\n    function Element() {\n        _classCallCheck(this, Element);\n\n        return _possibleConstructorReturn(this, Object.getPrototypeOf(Element).apply(this, arguments));\n    }\n\n    _createClass(Element, [{\n        key: '$refresh',\n        value: function $refresh() {\n            this.innerHTML = this.outerHTML = this.innerText = '';\n            this.getOuterHtml();\n            this.getInnerHtml();\n            this.getInnerText();\n            if (this.parentNode) {\n                this.parentNode.$refresh();\n            }\n        }\n    }, {\n        key: 'setInnerHtml',\n        value: function setInnerHtml(arg) {\n            var newNodeElements = new DocumentElement(arg);\n            this.childNodes = [];\n            this.children = [];\n            for (var i = 0, len = newNodeElements.childNodes.length; i < len; i++) {\n                this.appendChild(newNodeElements.childNodes[i]);\n            }\n            newNodeElements = null;\n            this.$refresh();\n        }\n    }, {\n        key: 'setAttribute',\n        value: function setAttribute(attributes, value) {\n            var item = void 0;\n            for (var i = 0, len = this.attributes.length; i < len; i++) {\n                if (this.attributes[i].name === attributes) {\n                    item = this.attributes[i];\n                    break;\n                }\n            }\n            if (!item) {\n                item = {};\n                this.attributes.push(item);\n            }\n            item.name = attributes;\n            if (!(0, _public.isUndefined)(value)) {\n                item.value = value;\n            }\n            this.className = this.getAttribute('class');\n            this.classList = this.className.match(/\\S+/g) || [];\n            this.id = this.getAttribute('id');\n            this.$refresh();\n        }\n    }, {\n        key: 'getAttribute',\n        value: function getAttribute(key) {\n            for (var i = 0, len = this.attributes.length; i < len; i++) {\n                if (this.attributes[i].name === key) {\n                    return this.attributes[i].value;\n                }\n            }\n            return '';\n        }\n    }, {\n        key: 'hasAttribute',\n        value: function hasAttribute(key) {\n            for (var i = 0, len = this.attributes.length; i < len; i++) {\n                if (this.attributes[i].name === key) {\n                    return true;\n                }\n            }\n            return false;\n        }\n    }, {\n        key: 'removeAttribute',\n        value: function removeAttribute(key) {\n            for (var i = 0, len = this.attributes.length; i < len; i++) {\n                if (this.attributes[i].name === key) {\n                    this.attributes.splice(i, 1);\n                    if (key === 'class') {\n                        this.className = '';\n                        this.classList = [];\n                    } else if (key === 'id') {\n                        this.id = '';\n                    }\n                    break;\n                }\n            }\n            this.$refresh();\n        }\n    }, {\n        key: 'querySelectorAll',\n        value: function querySelectorAll(selector) {\n            selector = ' ' + (0, _public.trim)(selector);\n            var _this = this;\n            var elements = [];\n\n            var ALL_SELECTOR_REG = /^\\s+\\*?(?!>|\\[|:first-child|:last-child|\\+)/;\n            var TAG_SELECTOR_REG = /^(\\w+(?:-\\w+)*)/;\n            var ID_SELECTOR_REG = /^#(\\w+(?:-\\w+)*)/;\n            var CLASSNAME_SELECTOR_REG = /^\\.(\\w+(?:-\\w+)*)/;\n            var ATTRIBUTE_SELECTOR_REG = /^\\s*\\[\\s*(\\w+(?:-\\w+)*)(?:\\s*=\\s*(['\"]?)([^\\2]*)\\2?\\s*)?\\]/;\n            var CHILDREN_SELECTOR_RGE = /^\\s*>/;\n            var FIRST_SELECTOR_REG = /^\\s*:first-child\\b/;\n            var LAST_SELECTOR_REG = /^\\s*:last-child\\b/;\n            var SIBLINGS_SELECTOR_REG = /^\\+\\s*/;\n\n            function selectDistributor(selector, context) {\n\n                var parentElements = [];\n                var nextSelector = '';\n\n                var _loop = function _loop(_i, len) {\n                    var currentElement = context[_i];\n                    if (ALL_SELECTOR_REG.test(selector)) {\n                        nextSelector = selector.replace(ALL_SELECTOR_REG, function () {\n                            currentElement.getElementsByTagName('*').filter(function (item) {\n                                parentElements.push(item);\n                            });\n                            return '';\n                        });\n                    } else if (TAG_SELECTOR_REG.test(selector)) {\n                        nextSelector = selector.replace(TAG_SELECTOR_REG, function (selector, tagName) {\n                            if (currentElement.tagName === tagName.toUpperCase()) {\n                                parentElements.push(currentElement);\n                            }\n                            return '';\n                        });\n                    } else if (ID_SELECTOR_REG.test(selector)) {\n                        nextSelector = selector.replace(ID_SELECTOR_REG, function (selector, id) {\n                            if (currentElement.id === id) {\n                                parentElements.push(currentElement);\n                            }\n                            return '';\n                        });\n                    } else if (CLASSNAME_SELECTOR_REG.test(selector)) {\n                        nextSelector = selector.replace(CLASSNAME_SELECTOR_REG, function (selector, className) {\n                            var reg = new RegExp('(^|\\\\s+)' + className + '(\\\\s+|$)');\n                            if (reg.test(currentElement.className)) {\n                                parentElements.push(currentElement);\n                            }\n                            return '';\n                        });\n                    } else if (ATTRIBUTE_SELECTOR_REG.test(selector)) {\n                        nextSelector = selector.replace(ATTRIBUTE_SELECTOR_REG, function (selector, propName, _, propValue) {\n                            if (propValue) {\n                                if (currentElement.getAttribute(propName) === propValue) {\n                                    parentElements.push(currentElement);\n                                }\n                            } else {\n                                if (currentElement.hasAttribute(propName)) {\n                                    parentElements.push(currentElement);\n                                }\n                            }\n                            return '';\n                        });\n                    } else if (CHILDREN_SELECTOR_RGE.test(selector)) {\n                        nextSelector = selector.replace(CHILDREN_SELECTOR_RGE, function () {\n                            if (!currentElement.children) return '';\n                            for (var j = 0, _len = currentElement.children.length; j < _len; j++) {\n                                parentElements.push(currentElement.children[j]);\n                            }\n                            return '';\n                        });\n                    } else if (FIRST_SELECTOR_REG.test(selector)) {\n                        nextSelector = selector.replace(FIRST_SELECTOR_REG, function () {\n                            parentElements.push(currentElement);\n                            _i = len;\n                            return '';\n                        });\n                    } else if (LAST_SELECTOR_REG.test(selector)) {\n                        nextSelector = selector.replace(LAST_SELECTOR_REG, function () {\n                            parentElements.push(context[len - 1]);\n                            _i = len;\n                            return '';\n                        });\n                    } else if (SIBLINGS_SELECTOR_REG.test(selector)) {\n                        nextSelector = selector.replace(SIBLINGS_SELECTOR_REG, function () {\n                            var siblings = currentElement.parentNode.children;\n                            siblings.filter(function (item) {\n                                if (item !== currentElement) {\n                                    parentElements.push(item);\n                                }\n                            });\n                            return '';\n                        });\n                    }\n\n                    i = _i;\n                };\n\n                for (var i = 0, len = context.length; i < len; i++) {\n                    _loop(i, len);\n                }\n                if (selector === nextSelector) {\n                    throw xmlMinErr('qureySelectorAll', '{0}不是一个正确的选择器！', selector);\n                }\n                parentElements = (0, _public.unique)(parentElements);\n                if (nextSelector) {\n                    return selectDistributor(nextSelector, parentElements);\n                }\n                return parentElements;\n            }\n            return selectDistributor(selector, [this]);\n        }\n    }, {\n        key: 'querySelector',\n        value: function querySelector(selector) {\n            return this.querySelectorAll(selector)[0] || null;\n        }\n    }]);\n\n    return Element;\n}(ElementEvent);\n\nvar ElementMethod = function (_Element) {\n    _inherits(ElementMethod, _Element);\n\n    function ElementMethod() {\n        _classCallCheck(this, ElementMethod);\n\n        return _possibleConstructorReturn(this, Object.getPrototypeOf(ElementMethod).apply(this, arguments));\n    }\n\n    _createClass(ElementMethod, [{\n        key: 'getElementsByTagName',\n        value: function getElementsByTagName(tagName) {\n            tagName = (0, _public.trim)(tagName);\n            var elements = [];\n            for (var i = 0, len = this.children.length; i < len; i++) {\n                if (this.children[i].tagName === tagName || tagName === '*') {\n                    elements.push(this.children[i]);\n                }\n                if (this.children[i].children) {\n                    this.children[i].getElementsByTagName(tagName).filter(function (item) {\n                        elements.push(item);\n                    });\n                }\n            }\n            return elements;\n        }\n    }, {\n        key: 'getElementsByClassName',\n        value: function getElementsByClassName(className) {\n            var elements = [];\n            for (var i = 0, len = this.children.length; i < len; i++) {\n                if (this.children[i].hasClass(className)) {\n                    elements.push(this.children[i]);\n                }\n                if (this.children[i].children) {\n                    this.children[i].getElementsByClassName(className).filter(function (item) {\n                        elements.push(item);\n                    });\n                }\n            }\n            return elements;\n        }\n    }, {\n        key: 'appendChild',\n        value: function appendChild(TBDomElement) {\n            if (TBDomElement.parentNode !== this) {\n                TBDomElement.parentNode = this;\n                this.childNodes.push(TBDomElement);\n                if (TBDomElement.nodeType === _variables.NODE_TYPE_ELEMENT) {\n                    this.children.push(TBDomElement);\n                }\n            } else {\n                for (var i = 0, len = this.childNodes.length; i < len; i++) {\n                    if (TBDomElement === this.childNodes[i]) {\n                        this.childNodes.push(this.childNodes.splice(i, 1));\n                        break;\n                    }\n                }\n                if (TBDomElement.nodeType === _variables.NODE_TYPE_ELEMENT) {\n                    for (var _i2 = 0, _len2 = this.children.length; _i2 < _len2; _i2++) {\n                        if (TBDomElement === this.children[_i2]) {\n                            this.children.push(this.children.splice(_i2, 1));\n                            break;\n                        }\n                    }\n                }\n            }\n            this.$refresh();\n        }\n    }, {\n        key: 'removeChild',\n        value: function removeChild(TBDomElement) {\n            for (var i = 0, len = this.childNodes.length; i < len; i++) {\n                if (this.childNodes[i] === TBDomElement) {\n                    this.childNodes.splice(i, 1);\n                    break;\n                }\n            }\n            if (TBDomElement.nodeType === _variables.NODE_TYPE_ELEMENT) {\n                for (var _i3 = 0, _len3 = this.children.length; _i3 < _len3; _i3++) {\n                    if (this.children[_i3] === TBDomElement) {\n                        this.children.splice(_i3, 1);\n                        break;\n                    }\n                }\n            }\n            this.$refresh();\n        }\n    }, {\n        key: 'insertBefore',\n        value: function insertBefore(TBDomElement, nextElement) {\n            var parentNode = TBDomElement.parentNode;\n            for (var i = 0, len = parentNode.childNodes.length; i < len; i++) {\n                if (parentNode.childNodes[i] === TBDomElement) {\n                    parentNode.childNodes.splice(i, 1);\n                    break;\n                }\n            }\n            for (var _i4 = 0, _len4 = parentNode.children.length; _i4 < _len4; _i4++) {\n                if (parentNode.children[_i4] === TBDomElement) {\n                    parentNode.children.splice(_i4, 1);\n                    break;\n                }\n            }\n            TBDomElement.parentNode = this;\n            for (var _i5 = 0, _len5 = this.childNodes.length; _i5 < _len5; _i5++) {\n                if (this.childNodes[_i5] === nextElement) {\n                    this.childNodes.splice(_i5, 0, TBDomElement);\n                    break;\n                }\n            }\n            for (var _i6 = 0, _len6 = this.children.length; _i6 < _len6; _i6++) {\n                if (this.children[_i6] === nextElement) {\n                    this.children.splice(_i6, 0, TBDomElement);\n                    break;\n                }\n            }\n            this.$refresh();\n        }\n    }]);\n\n    return ElementMethod;\n}(Element);\n\nvar DocumentElement = function (_ElementMethod) {\n    _inherits(DocumentElement, _ElementMethod);\n\n    function DocumentElement() {\n        var _Object$getPrototypeO;\n\n        _classCallCheck(this, DocumentElement);\n\n        for (var _len7 = arguments.length, args = Array(_len7), _key = 0; _key < _len7; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this5 = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(DocumentElement)).call.apply(_Object$getPrototypeO, [this].concat(args)));\n\n        _this5.$targetElement = null;\n        _this5.nodeType = _variables.NODE_TYPE_DOCUMENTFRAGMENT;\n        _this5.parentNode = null;\n        _this5.innerHTML = '';\n        _this5.innerText = '';\n        _this5.outerHTML = '';\n        _this5.classList = [];\n        _this5.className = '';\n        _this5.childNodes = [];\n        _this5.children = [];\n        _this5.eventListener = {};\n        return _this5;\n    }\n\n    _createClass(DocumentElement, [{\n        key: 'createElement',\n        value: function createElement(node) {\n            if (node.beginTag && node.closeTag || _public.isOddTag.test(node.tagName)) {\n                return new OddElement(node.tagName);\n            }\n            return new EvenElement(node.tagName);\n        }\n    }, {\n        key: 'createTextNode',\n        value: function createTextNode(node) {\n            return new TextElement(node.text);\n        }\n    }, {\n        key: 'createComment',\n        value: function createComment(node) {\n            return new CommentElement(node.text);\n        }\n    }, {\n        key: 'getElementById',\n        value: function getElementById(id) {\n            function getElementById(parent) {\n                var element = null;\n                var children = parent.children || [];\n                for (var i = 0, len = children.length; i < len; i++) {\n                    if (children[i].id === id) {\n                        return children[i];\n                    } else {\n                        element = getElementById(children[i]);\n                        if (element) return element;\n                    }\n                }\n                return element;\n            }\n            return getElementById(this);\n        }\n    }, {\n        key: 'getElementsByName',\n        value: function getElementsByName(name) {\n            var elements = [];\n            this.getElementsByTagName('form').filter(function (item) {\n                if (item.hasAttribute(name)) {\n                    elements.push(item);\n                }\n            });\n            return elements;\n        }\n    }]);\n\n    return DocumentElement;\n}(ElementMethod);\n\nvar OddElement = function (_Element2) {\n    _inherits(OddElement, _Element2);\n\n    function OddElement(tagName) {\n        _classCallCheck(this, OddElement);\n\n        var _this6 = _possibleConstructorReturn(this, Object.getPrototypeOf(OddElement).call(this));\n\n        _this6.$targetElement = null;\n        _this6.tagName = _this6.nodeName = tagName.toUpperCase();\n        _this6.nodeType = _variables.NODE_TYPE_ELEMENT;\n        _this6.parentNode = null;\n        _this6.innerHTML = '';\n        _this6.innerText = '';\n        _this6.id = '';\n        _this6.outerHTML = '';\n        _this6.classList = [];\n        _this6.className = '';\n        _this6.attributes = [];\n        _this6.eventListener = {};\n        return _this6;\n    }\n\n    return OddElement;\n}(Element);\n\nvar EvenElement = function (_ElementMethod2) {\n    _inherits(EvenElement, _ElementMethod2);\n\n    function EvenElement(tagName) {\n        _classCallCheck(this, EvenElement);\n\n        var _this7 = _possibleConstructorReturn(this, Object.getPrototypeOf(EvenElement).call(this));\n\n        _this7.$targetElement = null;\n        _this7.tagName = _this7.nodeName = tagName.toUpperCase();\n        _this7.nodeType = _variables.NODE_TYPE_ELEMENT;\n        _this7.parentNode = null;\n        _this7.innerHTML = '';\n        _this7.innerText = '';\n        _this7.outerHTML = '';\n        _this7.classList = [];\n        _this7.className = '';\n        _this7.id = '';\n        _this7.childNodes = [];\n        _this7.children = [];\n        _this7.attributes = [];\n        _this7.eventListener = {};\n        return _this7;\n    }\n\n    return EvenElement;\n}(ElementMethod);\n\nvar TextElement = function (_ElementEvent2) {\n    _inherits(TextElement, _ElementEvent2);\n\n    function TextElement(text) {\n        _classCallCheck(this, TextElement);\n\n        var _this8 = _possibleConstructorReturn(this, Object.getPrototypeOf(TextElement).call(this));\n\n        _this8.$targetElement = null;\n        _this8.parentNode = null;\n        _this8.nodeType = _variables.NODE_TYPE_TEXT;\n        _this8.nodeName = '#text';\n        _this8.textContent = text.replace(/[\\n\\t\\r\\v]/g, '');\n        _this8.eventListener = {};\n        return _this8;\n    }\n\n    return TextElement;\n}(ElementEvent);\n\nvar CommentElement = function (_RootElement2) {\n    _inherits(CommentElement, _RootElement2);\n\n    function CommentElement(commentText) {\n        _classCallCheck(this, CommentElement);\n\n        var _this9 = _possibleConstructorReturn(this, Object.getPrototypeOf(CommentElement).call(this));\n\n        _this9.$targetElement = null;\n        _this9.parentNode = null;\n        _this9.nodeType = _variables.NODE_TYPE_COMMENT;\n        _this9.nodeName = '#comment';\n        _this9.textContent = commentText;\n        return _this9;\n    }\n\n    return CommentElement;\n}(RootElement);\n\nexports.default = DocumentElement;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kdWxlcy92aXJ0dWFsRG9tLmpzPzEwYzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7QUFTQTs7Ozs7Ozs7SUFTTSxXOzs7Ozs7O3VDQUNhO0FBQ1gsZ0JBQUksS0FBSyxTQUFULEVBQW9CO0FBQ2hCLHVCQUFPLEtBQUssU0FBWjtBQUNILGFBRkQsTUFFTyxJQUFJLEtBQUssUUFBTCxrQ0FBb0MsS0FBSyxRQUFMLGlDQUF4QyxFQUE2RTtBQUNoRix1QkFBTyxLQUFLLFdBQVo7QUFDSDtBQUNELGdCQUFJLFlBQVksRUFBaEI7QUFDQSxnQkFBSSxLQUFLLFVBQVQsRUFBcUI7QUFDakIscUJBQUssSUFBSSxJQUFJLENBQVIsRUFBVyxNQUFNLEtBQUssVUFBTCxDQUFnQixNQUF0QyxFQUE4QyxJQUFJLEdBQWxELEVBQXVELEdBQXZELEVBQTREO0FBQ3hELGlDQUFhLEtBQUssVUFBTCxDQUFnQixDQUFoQixFQUFtQixZQUFuQixFQUFiO0FBQ0g7QUFDSjtBQUNELGlCQUFLLFNBQUwsR0FBaUIsU0FBakI7QUFDQSxtQkFBTyxTQUFQO0FBQ0g7Ozt1Q0FDYztBQUNYLGdCQUFJLEtBQUssU0FBVCxFQUFvQjtBQUNoQix1QkFBTyxLQUFLLFNBQVo7QUFDSCxhQUZELE1BRU8sSUFBSSxLQUFLLFFBQUwsOEJBQUosRUFBc0M7QUFDekMsdUJBQU8sS0FBSyxXQUFaO0FBQ0gsYUFGTSxNQUVBLElBQUksS0FBSyxRQUFMLGlDQUFKLEVBQXlDO0FBQzVDLHVCQUFPLFNBQVMsS0FBSyxXQUFkLEdBQTRCLEtBQW5DO0FBQ0g7O0FBRUQsZ0JBQUksbUJBQW1CLFNBQW5CLGdCQUFtQixDQUFVLFVBQVYsRUFBc0I7QUFDekMsb0JBQUksZ0JBQWdCLEVBQXBCO0FBQ0EscUJBQUssSUFBSSxJQUFJLENBQVIsRUFBVyxNQUFNLFdBQVcsTUFBakMsRUFBeUMsSUFBSSxHQUE3QyxFQUFrRCxHQUFsRCxFQUF1RDtBQUNuRCx3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IjpbImltcG9ydCB7XG4gICAgaXNBcnJheSxcbiAgICBpc1VuZGVmaW5lZCxcbiAgICB1bmlxdWUsXG4gICAgdHJpbSxcbiAgICBpc09kZFRhZ1xufVxuZnJvbSAnLi9wdWJsaWMnO1xuXG5pbXBvcnQge1xuICAgIE5PREVfVFlQRV9FTEVNRU5ULFxuICAgIE5PREVfVFlQRV9URVhULFxuICAgIE5PREVfVFlQRV9DT01NRU5ULFxuICAgIE5PREVfVFlQRV9ET0NVTUVOVCxcbiAgICBOT0RFX1RZUEVfRE9DVU1FTlRGUkFHTUVOVCxcbn1cbmZyb20gJy4vdmFyaWFibGVzJztcblxuY2xhc3MgUm9vdEVsZW1lbnQge1xuICAgIGdldElubmVySHRtbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5uZXJIVE1MKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbm5lckhUTUw7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX1RFWFQgfHwgdGhpcy5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0NPTU1FTlQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHRDb250ZW50O1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbm5lckhUTUwgPSAnJztcbiAgICAgICAgaWYgKHRoaXMuY2hpbGROb2Rlcykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuY2hpbGROb2Rlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlubmVySFRNTCArPSB0aGlzLmNoaWxkTm9kZXNbaV0uZ2V0T3V0ZXJIdG1sKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbm5lckhUTUwgPSBpbm5lckhUTUw7XG4gICAgICAgIHJldHVybiBpbm5lckhUTUw7XG4gICAgfVxuICAgIGdldE91dGVySHRtbCgpIHtcbiAgICAgICAgaWYgKHRoaXMub3V0ZXJIVE1MKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vdXRlckhUTUw7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX1RFWFQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHRDb250ZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubm9kZVR5cGUgPT09IE5PREVfVFlQRV9DT01NRU5UKSB7XG4gICAgICAgICAgICByZXR1cm4gJzwhLS0nICsgdGhpcy50ZXh0Q29udGVudCArICctLT4nO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGdldEF0dHJpYnV0ZUh0bWwgPSBmdW5jdGlvbiAoYXR0cmlidXRlcykge1xuICAgICAgICAgICAgbGV0IGF0dHJidXRlc0xpc3QgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBhdHRyaWJ1dGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSBhdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgICAgICAgIGxldCBhdHRyID0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyID09PSAnY2xhc3NOYW1lJykge1xuICAgICAgICAgICAgICAgICAgICBhdHRyID0gJ2NsYXNzJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udmFsdWUgIT09IG51bGwgJiYgaXRlbS52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnZhbHVlLmluZGV4T2YoJ1wiJykgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyID0gYXR0ciArICc9XCInICsgaXRlbS52YWx1ZSArICdcIic7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyID0gYXR0ciArIFwiPSdcIiArIGl0ZW0udmFsdWUgKyBcIidcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhdHRyYnV0ZXNMaXN0LnB1c2goYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXR0cmJ1dGVzTGlzdC5qb2luKCcgJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZ2V0Q2hpbGROb2Rlc0h0bWwgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICBsZXQgaHRtbCA9ICcnO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG9iai5jaGlsZE5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSBvYmouY2hpbGROb2Rlc1tpXS5nZXRPdXRlckh0bWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBodG1sO1xuICAgICAgICB9XG5cblxuICAgICAgICBsZXQgb3V0ZXJIdG1sID0gJyc7XG4gICAgICAgIGlmICh0aGlzLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xuICAgICAgICAgICAgbGV0IHRhZ05hbWUgPSB0aGlzLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGxldCBhdHRySHRtbCA9IGdldEF0dHJpYnV0ZUh0bWwodGhpcy5hdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICBvdXRlckh0bWwgPSAnPCcgKyB0YWdOYW1lICsgKGF0dHJIdG1sID8gJyAnICsgYXR0ckh0bWwgOiAnJykgKyAnPicgKyBnZXRDaGlsZE5vZGVzSHRtbCh0aGlzKSArICc8LycgKyB0YWdOYW1lICsgJz4nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXRlckh0bWwgPSAnPCcgKyB0YWdOYW1lICsgKGF0dHJIdG1sID8gJyAnICsgYXR0ckh0bWwgOiAnJykgKyAoaXNPZGRUYWcudGVzdCh0YWdOYW1lKSA/ICcnIDogJy8nKSArICc+JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRE9DVU1FTlQpIHtcbiAgICAgICAgICAgIG91dGVySHRtbCA9IGdldENoaWxkTm9kZXNIdG1sKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vdXRlckhUTUwgPSBvdXRlckh0bWw7XG4gICAgICAgIHJldHVybiBvdXRlckh0bWw7XG4gICAgfVxuICAgIGdldElubmVyVGV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMubm9kZVR5cGUgPT09IE5PREVfVFlQRV9URVhUKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0Q29udGVudDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfQ09NTUVOVCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0ZXh0ID0gJyc7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkTm9kZXMpIHsgLy/ljZXmoIfnrb7msqHmnInlrZDnuqdcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0ZXh0ICs9IHRoaXMuY2hpbGROb2Rlc1tpXS5nZXRJbm5lclRleHQoKSB8fCAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlubmVyVGV4dCA9IHRleHQ7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbn1cblxuY2xhc3MgRWxlbWVudEV2ZW50IGV4dGVuZHMgUm9vdEVsZW1lbnQge1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBmbiwgdXNlQ2FwdHVyZSkge1xuICAgICAgICB1c2VDYXB0dXJlID0gISF1c2VDYXB0dXJlO1xuICAgICAgICBldmVudFR5cGUgPSBldmVudFR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKCFpc0FycmF5KHRoaXMuZXZlbnRMaXN0ZW5lcltldmVudFR5cGVdKSkge1xuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyW2V2ZW50VHlwZV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJbZXZlbnRUeXBlXS5wdXNoKHtcbiAgICAgICAgICAgIGZuOiBmbixcbiAgICAgICAgICAgIHVzZUNhcHR1cmU6IHVzZUNhcHR1cmVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBmbikge1xuICAgICAgICBpZiAoaXNBcnJheSh0aGlzLmV2ZW50TGlzdGVuZXJbZXZlbnRUeXBlXSkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmV2ZW50TGlzdGVuZXIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ldmVudExpc3RlbmVyW2ldLmZuID09PSBmbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXIuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgRWxlbWVudCBleHRlbmRzIEVsZW1lbnRFdmVudCB7XG4gICAgJHJlZnJlc2goKSB7XG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gdGhpcy5vdXRlckhUTUwgPSB0aGlzLmlubmVyVGV4dCA9ICcnO1xuICAgICAgICB0aGlzLmdldE91dGVySHRtbCgpO1xuICAgICAgICB0aGlzLmdldElubmVySHRtbCgpO1xuICAgICAgICB0aGlzLmdldElubmVyVGV4dCgpO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUuJHJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRJbm5lckh0bWwoYXJnKSB7XG4gICAgICAgIGxldCBuZXdOb2RlRWxlbWVudHMgPSBuZXcgRG9jdW1lbnRFbGVtZW50KGFyZyk7XG4gICAgICAgIHRoaXMuY2hpbGROb2RlcyA9IFtdO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBuZXdOb2RlRWxlbWVudHMuY2hpbGROb2Rlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGlsZChuZXdOb2RlRWxlbWVudHMuY2hpbGROb2Rlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgbmV3Tm9kZUVsZW1lbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy4kcmVmcmVzaCgpO1xuICAgIH1cbiAgICBzZXRBdHRyaWJ1dGUoYXR0cmlidXRlcywgdmFsdWUpIHtcbiAgICAgICAgbGV0IGl0ZW07XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXNbaV0ubmFtZSA9PT0gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIGl0ZW0gPSB0aGlzLmF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgICBpdGVtID0ge307XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBpdGVtLm5hbWUgPSBhdHRyaWJ1dGVzO1xuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgaXRlbS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xhc3NOYW1lID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0ID0gdGhpcy5jbGFzc05hbWUubWF0Y2goL1xcUysvZykgfHwgW107XG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLmdldEF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgICAgdGhpcy4kcmVmcmVzaCgpO1xuICAgIH1cbiAgICBnZXRBdHRyaWJ1dGUoa2V5KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXNbaV0ubmFtZSA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlc1tpXS52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGhhc0F0dHJpYnV0ZShrZXkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlc1tpXS5uYW1lID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJlbW92ZUF0dHJpYnV0ZShrZXkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlc1tpXS5uYW1lID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdjbGFzcycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2lkJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuJHJlZnJlc2goKTtcbiAgICB9XG4gICAgcXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcikge1xuICAgICAgICBzZWxlY3RvciA9ICcgJyArIHRyaW0oc2VsZWN0b3IpO1xuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgICAgICBsZXQgZWxlbWVudHMgPSBbXTtcblxuXG5cbiAgICAgICAgbGV0IEFMTF9TRUxFQ1RPUl9SRUcgPSAvXlxccytcXCo/KD8hPnxcXFt8OmZpcnN0LWNoaWxkfDpsYXN0LWNoaWxkfFxcKykvO1xuICAgICAgICBsZXQgVEFHX1NFTEVDVE9SX1JFRyA9IC9eKFxcdysoPzotXFx3KykqKS87XG4gICAgICAgIGxldCBJRF9TRUxFQ1RPUl9SRUcgPSAvXiMoXFx3Kyg/Oi1cXHcrKSopLztcbiAgICAgICAgbGV0IENMQVNTTkFNRV9TRUxFQ1RPUl9SRUcgPSAvXlxcLihcXHcrKD86LVxcdyspKikvO1xuICAgICAgICBsZXQgQVRUUklCVVRFX1NFTEVDVE9SX1JFRyA9IC9eXFxzKlxcW1xccyooXFx3Kyg/Oi1cXHcrKSopKD86XFxzKj1cXHMqKFsnXCJdPykoW15cXDJdKilcXDI/XFxzKik/XFxdLztcbiAgICAgICAgbGV0IENISUxEUkVOX1NFTEVDVE9SX1JHRSA9IC9eXFxzKj4vO1xuICAgICAgICBsZXQgRklSU1RfU0VMRUNUT1JfUkVHID0gL15cXHMqOmZpcnN0LWNoaWxkXFxiLztcbiAgICAgICAgbGV0IExBU1RfU0VMRUNUT1JfUkVHID0gL15cXHMqOmxhc3QtY2hpbGRcXGIvO1xuICAgICAgICBsZXQgU0lCTElOR1NfU0VMRUNUT1JfUkVHID0gL15cXCtcXHMqLztcblxuXG4gICAgICAgIGZ1bmN0aW9uIHNlbGVjdERpc3RyaWJ1dG9yKHNlbGVjdG9yLCBjb250ZXh0KSB7XG5cbiAgICAgICAgICAgIGxldCBwYXJlbnRFbGVtZW50cyA9IFtdO1xuICAgICAgICAgICAgbGV0IG5leHRTZWxlY3RvciA9ICcnO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGNvbnRleHQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudEVsZW1lbnQgPSBjb250ZXh0W2ldO1xuICAgICAgICAgICAgICAgIGlmIChBTExfU0VMRUNUT1JfUkVHLnRlc3Qoc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHRTZWxlY3RvciA9IHNlbGVjdG9yLnJlcGxhY2UoQUxMX1NFTEVDVE9SX1JFRywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRFbGVtZW50cy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFRBR19TRUxFQ1RPUl9SRUcudGVzdChzZWxlY3RvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFNlbGVjdG9yID0gc2VsZWN0b3IucmVwbGFjZShUQUdfU0VMRUNUT1JfUkVHLCBmdW5jdGlvbiAoc2VsZWN0b3IsIHRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RWxlbWVudC50YWdOYW1lID09PSB0YWdOYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRFbGVtZW50cy5wdXNoKGN1cnJlbnRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKElEX1NFTEVDVE9SX1JFRy50ZXN0KHNlbGVjdG9yKSkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0U2VsZWN0b3IgPSBzZWxlY3Rvci5yZXBsYWNlKElEX1NFTEVDVE9SX1JFRywgZnVuY3Rpb24gKHNlbGVjdG9yLCBpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRFbGVtZW50LmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudEVsZW1lbnRzLnB1c2goY3VycmVudEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoQ0xBU1NOQU1FX1NFTEVDVE9SX1JFRy50ZXN0KHNlbGVjdG9yKSkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0U2VsZWN0b3IgPSBzZWxlY3Rvci5yZXBsYWNlKENMQVNTTkFNRV9TRUxFQ1RPUl9SRUcsIGZ1bmN0aW9uIChzZWxlY3RvciwgY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVnID0gbmV3IFJlZ0V4cCgnKF58XFxcXHMrKScgKyBjbGFzc05hbWUgKyAnKFxcXFxzK3wkKScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZy50ZXN0KGN1cnJlbnRFbGVtZW50LmNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRFbGVtZW50cy5wdXNoKGN1cnJlbnRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKEFUVFJJQlVURV9TRUxFQ1RPUl9SRUcudGVzdChzZWxlY3RvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFNlbGVjdG9yID0gc2VsZWN0b3IucmVwbGFjZShBVFRSSUJVVEVfU0VMRUNUT1JfUkVHLCBmdW5jdGlvbiAoc2VsZWN0b3IsIHByb3BOYW1lLCBfLCBwcm9wVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKHByb3BOYW1lKSA9PT0gcHJvcFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudEVsZW1lbnRzLnB1c2goY3VycmVudEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50RWxlbWVudHMucHVzaChjdXJyZW50RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoQ0hJTERSRU5fU0VMRUNUT1JfUkdFLnRlc3Qoc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHRTZWxlY3RvciA9IHNlbGVjdG9yLnJlcGxhY2UoQ0hJTERSRU5fU0VMRUNUT1JfUkdFLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRFbGVtZW50LmNoaWxkcmVuKSByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgbGVuID0gY3VycmVudEVsZW1lbnQuY2hpbGRyZW4ubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRFbGVtZW50cy5wdXNoKGN1cnJlbnRFbGVtZW50LmNoaWxkcmVuW2pdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKEZJUlNUX1NFTEVDVE9SX1JFRy50ZXN0KHNlbGVjdG9yKSkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0U2VsZWN0b3IgPSBzZWxlY3Rvci5yZXBsYWNlKEZJUlNUX1NFTEVDVE9SX1JFRywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50RWxlbWVudHMucHVzaChjdXJyZW50RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gbGVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoTEFTVF9TRUxFQ1RPUl9SRUcudGVzdChzZWxlY3RvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFNlbGVjdG9yID0gc2VsZWN0b3IucmVwbGFjZShMQVNUX1NFTEVDVE9SX1JFRywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50RWxlbWVudHMucHVzaChjb250ZXh0W2xlbiAtIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBsZW47XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTSUJMSU5HU19TRUxFQ1RPUl9SRUcudGVzdChzZWxlY3RvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFNlbGVjdG9yID0gc2VsZWN0b3IucmVwbGFjZShTSUJMSU5HU19TRUxFQ1RPUl9SRUcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzaWJsaW5ncyA9IGN1cnJlbnRFbGVtZW50LnBhcmVudE5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWJsaW5ncy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbSAhPT0gY3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50RWxlbWVudHMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VsZWN0b3IgPT09IG5leHRTZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHRocm93IHhtbE1pbkVycigncXVyZXlTZWxlY3RvckFsbCcsICd7MH3kuI3mmK/kuIDkuKrmraPnoa7nmoTpgInmi6nlmajvvIEnLCBzZWxlY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnRFbGVtZW50cyA9IHVuaXF1ZShwYXJlbnRFbGVtZW50cyk7XG4gICAgICAgICAgICBpZiAobmV4dFNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdERpc3RyaWJ1dG9yKG5leHRTZWxlY3RvciwgcGFyZW50RWxlbWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBhcmVudEVsZW1lbnRzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxlY3REaXN0cmlidXRvcihzZWxlY3RvciwgW3RoaXNdKTtcbiAgICB9XG4gICAgcXVlcnlTZWxlY3RvcihzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKVswXSB8fCBudWxsO1xuICAgIH1cbn1cbmNsYXNzIEVsZW1lbnRNZXRob2QgZXh0ZW5kcyBFbGVtZW50IHtcbiAgICBnZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lKSB7XG4gICAgICAgIHRhZ05hbWUgPSB0cmltKHRhZ05hbWUpO1xuICAgICAgICBsZXQgZWxlbWVudHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldLnRhZ05hbWUgPT09IHRhZ05hbWUgfHwgdGFnTmFtZSA9PT0gJyonKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHMucHVzaCh0aGlzLmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgfVxuICAgIGdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKSB7XG4gICAgICAgIGxldCBlbGVtZW50cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW5baV0uaGFzQ2xhc3MoY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzLnB1c2godGhpcy5jaGlsZHJlbltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltpXS5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50cy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICB9XG4gICAgYXBwZW5kQ2hpbGQoVEJEb21FbGVtZW50KSB7XG4gICAgICAgIGlmIChUQkRvbUVsZW1lbnQucGFyZW50Tm9kZSAhPT0gdGhpcykge1xuICAgICAgICAgICAgVEJEb21FbGVtZW50LnBhcmVudE5vZGUgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5jaGlsZE5vZGVzLnB1c2goVEJEb21FbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChUQkRvbUVsZW1lbnQubm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKFRCRG9tRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy5jaGlsZE5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKFRCRG9tRWxlbWVudCA9PT0gdGhpcy5jaGlsZE5vZGVzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGROb2Rlcy5wdXNoKHRoaXMuY2hpbGROb2Rlcy5zcGxpY2UoaSwgMSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoVEJEb21FbGVtZW50Lm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChUQkRvbUVsZW1lbnQgPT09IHRoaXMuY2hpbGRyZW5baV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkcmVuLnNwbGljZShpLCAxKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRyZWZyZXNoKCk7XG4gICAgfVxuICAgIHJlbW92ZUNoaWxkKFRCRG9tRWxlbWVudCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy5jaGlsZE5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGlsZE5vZGVzW2ldID09PSBUQkRvbUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkTm9kZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChUQkRvbUVsZW1lbnQubm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuW2ldID09PSBUQkRvbUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRyZWZyZXNoKCk7XG4gICAgfVxuICAgIGluc2VydEJlZm9yZShUQkRvbUVsZW1lbnQsIG5leHRFbGVtZW50KSB7XG4gICAgICAgIGxldCBwYXJlbnROb2RlID0gVEJEb21FbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwYXJlbnROb2RlLmNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnROb2RlLmNoaWxkTm9kZXNbaV0gPT09IFRCRG9tRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHBhcmVudE5vZGUuY2hpbGROb2Rlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhcmVudE5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnROb2RlLmNoaWxkcmVuW2ldID09PSBUQkRvbUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmNoaWxkcmVuLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBUQkRvbUVsZW1lbnQucGFyZW50Tm9kZSA9IHRoaXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkTm9kZXNbaV0gPT09IG5leHRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZE5vZGVzLnNwbGljZShpLCAwLCBUQkRvbUVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltpXSA9PT0gbmV4dEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpLCAwLCBUQkRvbUVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuJHJlZnJlc2goKTtcbiAgICB9XG59XG5jbGFzcyBEb2N1bWVudEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50TWV0aG9kIHtcbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3MpO1xuICAgICAgICB0aGlzLiR0YXJnZXRFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5ub2RlVHlwZSA9IE5PREVfVFlQRV9ET0NVTUVOVEZSQUdNRU5UO1xuICAgICAgICB0aGlzLnBhcmVudE5vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLmlubmVyVGV4dCA9ICcnO1xuICAgICAgICB0aGlzLm91dGVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdCA9IFtdO1xuICAgICAgICB0aGlzLmNsYXNzTmFtZSA9ICcnO1xuICAgICAgICB0aGlzLmNoaWxkTm9kZXMgPSBbXTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXIgPSB7fTtcbiAgICB9XG4gICAgY3JlYXRlRWxlbWVudChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLmJlZ2luVGFnICYmIG5vZGUuY2xvc2VUYWcgfHwgaXNPZGRUYWcudGVzdChub2RlLnRhZ05hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE9kZEVsZW1lbnQobm9kZS50YWdOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEV2ZW5FbGVtZW50KG5vZGUudGFnTmFtZSk7XG4gICAgfVxuICAgIGNyZWF0ZVRleHROb2RlKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0RWxlbWVudChub2RlLnRleHQpO1xuICAgIH1cbiAgICBjcmVhdGVDb21tZW50KG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21tZW50RWxlbWVudChub2RlLnRleHQpO1xuICAgIH1cbiAgICBnZXRFbGVtZW50QnlJZChpZCkge1xuICAgICAgICBmdW5jdGlvbiBnZXRFbGVtZW50QnlJZChwYXJlbnQpIHtcbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBjaGlsZHJlbiA9IHBhcmVudC5jaGlsZHJlbiB8fCBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZHJlbltpXS5pZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZChjaGlsZHJlbltpXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50KSByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0RWxlbWVudEJ5SWQodGhpcyk7XG4gICAgfVxuICAgIGdldEVsZW1lbnRzQnlOYW1lKG5hbWUpIHtcbiAgICAgICAgbGV0IGVsZW1lbnRzID0gW107XG4gICAgICAgIHRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2Zvcm0nKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGlmIChpdGVtLmhhc0F0dHJpYnV0ZShuYW1lKSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgfVxufVxuY2xhc3MgT2RkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHRhZ05hbWUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy4kdGFyZ2V0RWxlbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMudGFnTmFtZSA9IHRoaXMubm9kZU5hbWUgPSB0YWdOYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIHRoaXMubm9kZVR5cGUgPSBOT0RFX1RZUEVfRUxFTUVOVDtcbiAgICAgICAgdGhpcy5wYXJlbnROb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgdGhpcy5pbm5lclRleHQgPSAnJztcbiAgICAgICAgdGhpcy5pZCA9ICcnO1xuICAgICAgICB0aGlzLm91dGVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdCA9IFtdO1xuICAgICAgICB0aGlzLmNsYXNzTmFtZSA9ICcnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyID0ge307XG4gICAgfVxufVxuY2xhc3MgRXZlbkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50TWV0aG9kIHtcbiAgICBjb25zdHJ1Y3Rvcih0YWdOYW1lKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuJHRhcmdldEVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnRhZ05hbWUgPSB0aGlzLm5vZGVOYW1lID0gdGFnTmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB0aGlzLm5vZGVUeXBlID0gTk9ERV9UWVBFX0VMRU1FTlQ7XG4gICAgICAgIHRoaXMucGFyZW50Tm9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHRoaXMuaW5uZXJUZXh0ID0gJyc7XG4gICAgICAgIHRoaXMub3V0ZXJIVE1MID0gJyc7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0ID0gW107XG4gICAgICAgIHRoaXMuY2xhc3NOYW1lID0gJyc7XG4gICAgICAgIHRoaXMuaWQgPSAnJztcbiAgICAgICAgdGhpcy5jaGlsZE5vZGVzID0gW107XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gW107XG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lciA9IHt9O1xuICAgIH1cbn1cbmNsYXNzIFRleHRFbGVtZW50IGV4dGVuZHMgRWxlbWVudEV2ZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuJHRhcmdldEVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnBhcmVudE5vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLm5vZGVUeXBlID0gTk9ERV9UWVBFX1RFWFQ7XG4gICAgICAgIHRoaXMubm9kZU5hbWUgPSAnI3RleHQnO1xuICAgICAgICB0aGlzLnRleHRDb250ZW50ID0gdGV4dC5yZXBsYWNlKC9bXFxuXFx0XFxyXFx2XS9nLCAnJyk7XG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lciA9IHt9O1xuICAgIH1cbn1cbmNsYXNzIENvbW1lbnRFbGVtZW50IGV4dGVuZHMgUm9vdEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGNvbW1lbnRUZXh0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuJHRhcmdldEVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnBhcmVudE5vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLm5vZGVUeXBlID0gTk9ERV9UWVBFX0NPTU1FTlQ7XG4gICAgICAgIHRoaXMubm9kZU5hbWUgPSAnI2NvbW1lbnQnO1xuICAgICAgICB0aGlzLnRleHRDb250ZW50ID0gY29tbWVudFRleHQ7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgRG9jdW1lbnRFbGVtZW50O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvanMvbW9kdWxlcy92aXJ0dWFsRG9tLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }
/******/ ]);
